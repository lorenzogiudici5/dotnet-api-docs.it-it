<Type Name="ProtectedData" FullName="System.Security.Cryptography.ProtectedData">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="113fa7049e84e98a7de443e726e3f32bf66cafcc" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30498265" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class ProtectedData" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit ProtectedData extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Security.Cryptography.ProtectedData" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class ProtectedData" />
  <TypeSignature Language="C++ CLI" Value="public ref class ProtectedData sealed" />
  <AssemblyInfo>
    <AssemblyName>System.Security.Cryptography.ProtectedData</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Security</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Fornisce metodi per la crittografia e la decrittografia dei dati. Questa classe non può essere ereditata.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Questa classe fornisce l'accesso a Data Protection API (DPAPI) in Microsoft Windows 2000 e sistemi operativi successivi. Si tratta di un servizio che viene fornito dal sistema operativo e non richiede librerie aggiuntive. Fornisce una protezione con le credenziali utente o al computer per crittografare o decrittografare i dati.  
  
 La classe è costituita da due wrapper per la DPAPI non gestita, <xref:System.Security.Cryptography.ProtectedData.Protect%2A> e <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A>. Questi due metodi possono essere utilizzati per crittografare e decrittografare i dati, ad esempio password, chiavi e le stringhe di connessione.  
  
 Se si utilizzano questi metodi durante la rappresentazione, venga visualizzato l'errore seguente: "Chiave non valido per l'utilizzo in stato specificato". Questo errore si verifica perché la DPAPI archivia i dati della chiave nei profili utente. Se non è caricato il profilo, DPAPI non sarà possibile eseguire la decrittografia. Per evitare questo errore, caricare il profilo dell'utente che si desidera rappresentare prima di chiamare dei metodi. Con DPAPI con la rappresentazione può comportare problemi gravi e richiede un'attenta scelte.  
  
   
  
## Examples  
 Nell'esempio seguente viene illustrato come utilizzare la protezione dei dati.  
  
 [!code-cpp[Cryptography.DataProtectionSample#1](~/samples/snippets/cpp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CPP/dataprotectionsample.cpp#1)]
 [!code-csharp[Cryptography.DataProtectionSample#1](~/samples/snippets/csharp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CS/dataprotectionsample.cs#1)]
 [!code-vb[Cryptography.DataProtectionSample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Cryptography.DataProtectionSample/vb/dataprotectionsample.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="Protect">
      <MemberSignature Language="C#" Value="public static byte[] Protect (byte[] userData, byte[] optionalEntropy, System.Security.Cryptography.DataProtectionScope scope);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Protect(unsigned int8[] userData, unsigned int8[] optionalEntropy, valuetype System.Security.Cryptography.DataProtectionScope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Protect (userData As Byte(), optionalEntropy As Byte(), scope As DataProtectionScope) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Protect(cli::array &lt;System::Byte&gt; ^ userData, cli::array &lt;System::Byte&gt; ^ optionalEntropy, System::Security::Cryptography::DataProtectionScope scope);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Security.Cryptography.ProtectedData</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="userData" Type="System.Byte[]" />
        <Parameter Name="optionalEntropy" Type="System.Byte[]" />
        <Parameter Name="scope" Type="System.Security.Cryptography.DataProtectionScope" />
      </Parameters>
      <Docs>
        <param name="userData">Matrice di byte che contiene i dati da crittografare.</param>
        <param name="optionalEntropy">Una matrice di byte aggiuntiva facoltativa usata per aumentare la complessità della crittografia o <see langword="null" /> per non aggiungere alcuna complessità.</param>
        <param name="scope">Uno dei valori di enumerazione che specifica l'ambito della crittografia.</param>
        <summary>Crittografa i dati in una matrice di byte specificata e restituisce una matrice di byte che contiene i dati crittografati.</summary>
        <returns>Matrice di byte che rappresenta i dati crittografati.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Questo metodo può essere utilizzato per crittografare i dati, ad esempio le password, chiavi o le stringhe di connessione. Il `optionalEntropy` parametro consente di aggiungere dati per aumentare la complessità della crittografia; specificare `null` per non aggiungere alcuna complessità. Se fornito, queste informazioni devono essere utilizzate anche durante la decrittografia dei dati mediante il <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A> metodo.  
  
> [!NOTE]
>  Se si utilizza questo metodo durante la rappresentazione, venga visualizzato l'errore seguente: "Chiave non valido per l'utilizzo in stato specificato". Per evitare questo errore, caricare il profilo dell'utente che si desidera rappresentare prima di chiamare il metodo.  
  
   
  
## Examples  
 Nell'esempio seguente viene illustrato come utilizzare la protezione dei dati.  
  
 [!code-cpp[Cryptography.DataProtectionSample#1](~/samples/snippets/cpp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CPP/dataprotectionsample.cpp#1)]
 [!code-csharp[Cryptography.DataProtectionSample#1](~/samples/snippets/csharp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CS/dataprotectionsample.cs#1)]
 [!code-vb[Cryptography.DataProtectionSample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Cryptography.DataProtectionSample/vb/dataprotectionsample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Il valore del parametro <paramref name="userData" /> è <see langword="null" />.</exception>
        <exception cref="T:System.Security.Cryptography.CryptographicException">La crittografia non è riuscita.</exception>
        <exception cref="T:System.NotSupportedException">Il sistema operativo non supporta questo metodo,</exception>
        <exception cref="T:System.OutOfMemoryException">Il sistema ha esaurito la memoria durante la crittografia dei dati.</exception>
        <permission cref="T:System.Security.Permissions.DataProtectionPermission">con l'oggetto associato <see cref="P:System.Security.Permissions.DataProtectionPermissionAttribute.ProtectData" /> flag per l'autorizzazione proteggere i dati.</permission>
      </Docs>
    </Member>
    <Member MemberName="Unprotect">
      <MemberSignature Language="C#" Value="public static byte[] Unprotect (byte[] encryptedData, byte[] optionalEntropy, System.Security.Cryptography.DataProtectionScope scope);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Unprotect(unsigned int8[] encryptedData, unsigned int8[] optionalEntropy, valuetype System.Security.Cryptography.DataProtectionScope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Cryptography.ProtectedData.Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Unprotect (encryptedData As Byte(), optionalEntropy As Byte(), scope As DataProtectionScope) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Unprotect(cli::array &lt;System::Byte&gt; ^ encryptedData, cli::array &lt;System::Byte&gt; ^ optionalEntropy, System::Security::Cryptography::DataProtectionScope scope);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Security.Cryptography.ProtectedData</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="encryptedData" Type="System.Byte[]" />
        <Parameter Name="optionalEntropy" Type="System.Byte[]" />
        <Parameter Name="scope" Type="System.Security.Cryptography.DataProtectionScope" />
      </Parameters>
      <Docs>
        <param name="encryptedData">Matrice di byte che contiene dati crittografati tramite il metodo <see cref="M:System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)" />.</param>
        <param name="optionalEntropy">Matrice di byte aggiuntiva facoltativa usata per crittografare i dati o <see langword="null" /> se non è usata la matrice di byte aggiuntiva.</param>
        <param name="scope">Uno dei valori di enumerazione che specifica l'ambito della protezione dati usato per crittografare i dati.</param>
        <summary>Decrittografa i dati in una matrice di byte specificata e restituisce una matrice di byte che contiene i dati decrittografati.</summary>
        <returns>Matrice di byte che rappresenta i dati decrittografati.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Questo metodo può essere utilizzato per rimuovere la protezione dati che è stati crittografati utilizzando il <xref:System.Security.Cryptography.ProtectedData.Protect%2A> metodo. Se il `optionalEntropy` parametro è stato utilizzato durante la crittografia, è necessario specificare per decrittografare i dati.  
  
> [!NOTE]
>  Se si utilizza questo metodo durante la rappresentazione, venga visualizzato l'errore seguente: "Chiave non valido per l'utilizzo in stato specificato". Per evitare questo errore, caricare il profilo dell'utente che si desidera rappresentare prima di chiamare il metodo.  
  
   
  
## Examples  
 Esempio di codice seguente viene illustrato come utilizzare la protezione dei dati.  
  
 [!code-cpp[Cryptography.DataProtectionSample#1](~/samples/snippets/cpp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CPP/dataprotectionsample.cpp#1)]
 [!code-csharp[Cryptography.DataProtectionSample#1](~/samples/snippets/csharp/VS_Snippets_CLR/Cryptography.DataProtectionSample/CS/dataprotectionsample.cs#1)]
 [!code-vb[Cryptography.DataProtectionSample#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Cryptography.DataProtectionSample/vb/dataprotectionsample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Il valore del parametro <paramref name="encryptedData" /> è <see langword="null" />.</exception>
        <exception cref="T:System.Security.Cryptography.CryptographicException">La decrittografia non è riuscita.</exception>
        <exception cref="T:System.NotSupportedException">Il sistema operativo non supporta questo metodo,</exception>
        <exception cref="T:System.OutOfMemoryException">Memoria insufficiente.</exception>
        <permission cref="T:System.Security.Permissions.DataProtectionPermission">con l'oggetto associato <see cref="P:System.Security.Permissions.DataProtectionPermissionAttribute.UnprotectData" /> flag per l'autorizzazione rimuovere la protezione dati.</permission>
      </Docs>
    </Member>
  </Members>
</Type>