<Type Name="SecurityKeyType" FullName="System.IdentityModel.Tokens.SecurityKeyType">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="38f6517adbe8ed877c66223cd626f5d299e84ae5" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
  </Metadata>
  <TypeSignature Language="C#" Value="public enum SecurityKeyType" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed SecurityKeyType extends System.Enum" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Tokens.SecurityKeyType" />
  <TypeSignature Language="VB.NET" Value="Public Enum SecurityKeyType" />
  <TypeSignature Language="C++ CLI" Value="public enum class SecurityKeyType" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Enum</BaseTypeName>
  </Base>
  <Docs>
    <summary>
      <span data-ttu-id="29df3-101">Specifica il tipo di chiave associata a un token di sicurezza.</span>
      <span class="sxs-lookup">
        <span data-stu-id="29df3-101">Specifies the type of key that is associated with a security token.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29df3-102">Utilizzare l'enumerazione <xref:System.IdentityModel.Tokens.SecurityKeyType> per impostare la proprietà <xref:System.IdentityModel.Selectors.SecurityTokenRequirement.KeyType%2A>.</span><span class="sxs-lookup"><span data-stu-id="29df3-102">Use the <xref:System.IdentityModel.Tokens.SecurityKeyType> enumeration to set the <xref:System.IdentityModel.Selectors.SecurityTokenRequirement.KeyType%2A> property.</span></span>  
  
 <span data-ttu-id="29df3-103">Il campo BearerKey viene utilizzato con il <xref:System.ServiceModel.Configuration.IssuedTokenParametersElement.KeyType%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="29df3-103">The BearerKey field is used with the <xref:System.ServiceModel.Configuration.IssuedTokenParametersElement.KeyType%2A> property.</span></span>  
  
### <a name="bearerkey-requires-wsuid-or-transport-security-with-message-credentials"></a><span data-ttu-id="29df3-104">Esigenza di utilizzare Wsu:Id o la sicurezza a livello di trasporto con credenziali messaggio per il campo BearerKey</span><span class="sxs-lookup"><span data-stu-id="29df3-104">BearerKey Requires Wsu:Id or Transport Security with Message Credentials</span></span>  
 <span data-ttu-id="29df3-105">Negli scenari federativi, in genere i token emessi vengono configurati come token di supporto di verifica dell'autenticità per la sicurezza dei messaggi tra un client e i componenti.</span><span class="sxs-lookup"><span data-stu-id="29df3-105">In federation scenarios, an issued token is generally configured as an endorsing supporting token for message security between a client and the relying parties.</span></span> <span data-ttu-id="29df3-106">Tuttavia, quando un servizio token di sicurezza (STS) rilascia un token senza chiave (BearerKey), in [!INCLUDE[indigo2](~/includes/indigo2-md.md)] viene configurato come token di supporto <xref:System.ServiceModel.Security.SecurityTokenAttachmentMode>. In [!INCLUDE[indigo2](~/includes/indigo2-md.md)] la verifica dell'autenticità non può essere eseguita senza una chiave.</span><span class="sxs-lookup"><span data-stu-id="29df3-106">However, when a Security Token Service (STS) issues a token with no key (BearerKey), [!INCLUDE[indigo2](~/includes/indigo2-md.md)] configures it as a <xref:System.ServiceModel.Security.SecurityTokenAttachmentMode> supporting token ([!INCLUDE[indigo2](~/includes/indigo2-md.md)] cannot endorse without a key).</span></span> <span data-ttu-id="29df3-107">Per questo motivo è necessario che nella firma venga fatto riferimento al token rilasciato.</span><span class="sxs-lookup"><span data-stu-id="29df3-107">This requires the issued token to be referenced in the signature.</span></span> [!INCLUDE[indigo2](~/includes/indigo2-md.md)]<span data-ttu-id="29df3-108"> attualmente utilizza il seguente: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd:Id come meccanismo di riferimento (wsu: ID).</span><span class="sxs-lookup"><span data-stu-id="29df3-108"> currently uses the following: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd:Id as a reference mechanism (Wsu:Id).</span></span>  
  
 <span data-ttu-id="29df3-109">Se un token emesso non presenta tale attributo in un client, il sistema genera un'eccezione <xref:System.ServiceModel.Security.MessageSecurityException> con il testo "L'elemento da firmare deve avere un ID".</span><span class="sxs-lookup"><span data-stu-id="29df3-109">If an issued token does not have such an attribute, on a client, a <xref:System.ServiceModel.Security.MessageSecurityException> is thrown with the text "Element to sign must have id".</span></span> <span data-ttu-id="29df3-110">Ciò si verifica quando un token SAML 1.1 viene utilizzato come token rilasciato, in quanto Wsu:Id non è definito nella specifica SAML 1.1.</span><span class="sxs-lookup"><span data-stu-id="29df3-110">This happens when a SAML 1.1 token is used as an issued token (the Wsu:Id is not defined in the SAML 1.1 specification).</span></span>  
  
 <span data-ttu-id="29df3-111">Per risolvere questo problema, utilizzare la sicurezza del trasporto con credenziali messaggio (ad esempio <xref:System.ServiceModel.Configuration.AuthenticationMode>) o un servizio token di sicurezza è necessario aggiungere il http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd:Id (wsu: ID) al token rilasciato.</span><span class="sxs-lookup"><span data-stu-id="29df3-111">To work around this situation, either use transport security with message credentials (for example, <xref:System.ServiceModel.Configuration.AuthenticationMode>) or an STS must add the http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd:Id (Wsu:Id) to the issued token.</span></span>  
  
 <span data-ttu-id="29df3-112">Se Wsu:Id viene aggiunto a un token SAML 1.1, il codice XML risultante non sarà conforme alla specifica SAML 1.1.</span><span class="sxs-lookup"><span data-stu-id="29df3-112">Note that if the Wsu:Id is added to a SAML 1.1 token, the resulting XML does not comply to the SAML 1.1 specification.</span></span> <span data-ttu-id="29df3-113">L'alternativa consiste nell'aggiungere Wsu:Id a `EncryptedData`, ottenuto dalla crittografia del token rilasciato.</span><span class="sxs-lookup"><span data-stu-id="29df3-113">The alternative is to add a Wsu:Id to the `EncryptedData` which is a result of encrypting the issued token.</span></span> <span data-ttu-id="29df3-114">Questa procedura è conforme alla specifica SAML 1.1, in quanto l'elemento `EncryptedData` supporta l'attributo Wsu:Id.</span><span class="sxs-lookup"><span data-stu-id="29df3-114">This procedure complies with the SAML 1.1 specification, because the `EncryptedData` element supports the Wsu:Id attribute.</span></span>  
  
 <span data-ttu-id="29df3-115">Pertanto, per garantire la conformità alla specifica, il token di tipo BearerKey deve essere crittografato dal servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="29df3-115">So to be compliant with the specification, the bearer token must be encrypted by the STS.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="AsymmetricKey">
      <MemberSignature Language="C#" Value="AsymmetricKey" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.IdentityModel.Tokens.SecurityKeyType AsymmetricKey = int32(1)" />
      <MemberSignature Language="DocId" Value="F:System.IdentityModel.Tokens.SecurityKeyType.AsymmetricKey" />
      <MemberSignature Language="VB.NET" Value="AsymmetricKey" />
      <MemberSignature Language="C++ CLI" Value="AsymmetricKey" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityKeyType</ReturnType>
      </ReturnValue>
      <MemberValue>1</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="29df3-116">Specifica che la chiave è asimmetrica.</span>
          <span class="sxs-lookup">
            <span data-stu-id="29df3-116">Specifies that the key is an asymmetric key.</span>
          </span>
        </summary>
      </Docs>
    </Member>
    <Member MemberName="BearerKey">
      <MemberSignature Language="C#" Value="BearerKey" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.IdentityModel.Tokens.SecurityKeyType BearerKey = int32(2)" />
      <MemberSignature Language="DocId" Value="F:System.IdentityModel.Tokens.SecurityKeyType.BearerKey" />
      <MemberSignature Language="VB.NET" Value="BearerKey" />
      <MemberSignature Language="C++ CLI" Value="BearerKey" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityKeyType</ReturnType>
      </ReturnValue>
      <MemberValue>2</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="29df3-117">Specifica che il token di sicurezza non contiene alcuna chiave di prova di possesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="29df3-117">Specifies that the security token does not contain a proof-of-possession key.</span>
          </span>
        </summary>
      </Docs>
    </Member>
    <Member MemberName="SymmetricKey">
      <MemberSignature Language="C#" Value="SymmetricKey" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.IdentityModel.Tokens.SecurityKeyType SymmetricKey = int32(0)" />
      <MemberSignature Language="DocId" Value="F:System.IdentityModel.Tokens.SecurityKeyType.SymmetricKey" />
      <MemberSignature Language="VB.NET" Value="SymmetricKey" />
      <MemberSignature Language="C++ CLI" Value="SymmetricKey" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityKeyType</ReturnType>
      </ReturnValue>
      <MemberValue>0</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="29df3-118">Specifica che la chiave è simmetrica.</span>
          <span class="sxs-lookup">
            <span data-stu-id="29df3-118">Specifies that the key is a symmetric key.</span>
          </span>
        </summary>
      </Docs>
    </Member>
  </Members>
</Type>