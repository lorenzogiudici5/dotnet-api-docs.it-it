<Type Name="ThreadStaticAttribute" FullName="System.ThreadStaticAttribute">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="66bb19d680cff4f786183f9253e5b4970a5ea7ab" />
    <Meta Name="ms.sourcegitcommit" Value="5a49536d99d2d0b54e4cb7280870903e043272df" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="07/03/2018" />
    <Meta Name="ms.locfileid" Value="37727341" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class ThreadStaticAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable beforefieldinit ThreadStaticAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.ThreadStaticAttribute" />
  <TypeSignature Language="VB.NET" Value="Public Class ThreadStaticAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class ThreadStaticAttribute : Attribute" />
  <TypeSignature Language="F#" Value="type ThreadStaticAttribute = class&#xA;    inherit Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Field, Inherited=false)</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>Indica che il valore di un campo statico è univoco per ogni thread.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Oggetto `static` campo contrassegnato con <xref:System.ThreadStaticAttribute> non è condivisa tra thread. Ogni thread in esecuzione dispone di un'istanza separata del campo, in modo indipendente imposta e ottiene i valori per il campo. Se si accede al campo in un thread diverso, conterrà un valore diverso.  
  
 Si noti che oltre ad applicare l'attributo <xref:System.ThreadStaticAttribute> a un campo, è inoltre necessario definirlo come campo `static` (in C#) o campo `Shared` (in Visual Basic).  
  
> [!NOTE]
>  Non specificare i valori iniziali per i campi contrassegnati con `ThreadStaticAttribute`, perché tale inizializzazione viene eseguita solo una volta, quando viene eseguito il costruttore della classe e quindi influisce su un solo thread. Se non si specifica un valore iniziale, è possibile basarsi sul campo in fase di inizializzazione per il valore predefinito se è un tipo di valore o per `null` se è un tipo di riferimento.  
  
 Usare questo attributo così com'è e non derivano da essa.  
  
 Per altre informazioni sull'utilizzo di attributi, vedere [attributi](~/docs/standard/attributes/index.md).  
  
   
  
## Examples  
 Nell'esempio seguente viene creata un'istanza di un generatore di numeri casuali, vengono creati 10 thread oltre al thread principale ed infine vengono generati due milioni di numeri casuali in ogni thread. Utilizza l'attributo <xref:System.ThreadStaticAttribute> per calcolare la somma e il conteggio dei numeri casuali per ogni thread. Definisce inoltre due campi aggiuntivi per ogni singolo thread, `previous` e `abnormal` per rilevare il danneggiamento del generatore di numeri casuali.  
  
 [!code-csharp[System.ThreadStaticAttribute#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threadstaticattribute/cs/threadsafe2a.cs#1)]
 [!code-vb[System.ThreadStaticAttribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threadstaticattribute/vb/threadsafe2a.vb#1)]  
  
 Nell'esempio viene utilizzata l'istruzione `lock` in C# e il costrutto `SyncLock` in Visual Basic per sincronizzare l'accesso al generatore di numeri casuali. Ciò impedisce il danneggiamento del generatore di numeri casuali, che in genere comporta la restituzione del valore zero per tutte le chiamate successive.  
  
 Nell'esempio viene anche utilizzata la classe <xref:System.Threading.CountdownEvent> per garantire che la generazione di numeri casuali sia stata completata da ogni thread prima che venga visualizzato il numero totale di chiamate. In caso contrario, se il thread principale viene completato prima degli altri thread generati, viene visualizzato un valore impreciso relativo al numero totale di chiamate al metodo.  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Attribute" />
    <altmember cref="T:System.Threading.Thread" />
    <altmember cref="T:System.Threading.AsyncLocal`1" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ThreadStaticAttribute ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.ThreadStaticAttribute.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ThreadStaticAttribute();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>Inizializza una nuova istanza della classe <see cref="T:System.ThreadStaticAttribute" />.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>