<Type Name="IEnlistmentNotification" FullName="System.Transactions.IEnlistmentNotification">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="e60dea71d0f2063b56a541d5294ba5ac305362d3" />
    <Meta Name="ms.sourcegitcommit" Value="9dda17222b9f7d3edf130133bfb1370d5b410a4b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="09/22/2018" />
    <Meta Name="ms.locfileid" Value="46642213" />
  </Metadata>
  <TypeSignature Language="C#" Value="public interface IEnlistmentNotification" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IEnlistmentNotification" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="VB.NET" Value="Public Interface IEnlistmentNotification" />
  <TypeSignature Language="C++ CLI" Value="public interface class IEnlistmentNotification" />
  <TypeSignature Language="F#" Value="type IEnlistmentNotification = interface" />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="5d205-101">Descrive un'interfaccia che un gestore di risorse deve implementare per fornire i callback di notifica commit a due fasi per la gestione delle transazioni in seguito all'integrazione per la partecipazione.</span>
      <span class="sxs-lookup">
        <span data-stu-id="5d205-101">Describes an interface that a resource manager should implement to provide two phase commit notification callbacks for the transaction manager upon enlisting for participation.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5d205-102">Affinché un gestore di risorse per far parte di una transazione, deve integrarsi nella transazione tramite la gestione transazioni.</span><span class="sxs-lookup"><span data-stu-id="5d205-102">In order for a resource manager to participate in a transaction, it must enlist in the transaction through the transaction manager.</span></span> <span data-ttu-id="5d205-103">La classe <xref:System.Transactions.Transaction> definisce un set di metodi i cui nomi iniziano con `Enlist` che forniscono questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="5d205-103">The <xref:System.Transactions.Transaction> class defines a set of methods whose names begin with `Enlist` that provide this functionality.</span></span> <span data-ttu-id="5d205-104">I diversi `Enlist` metodi corrispondano ai tipi diversi di integrazione che potrebbero avere un gestore delle risorse.</span><span class="sxs-lookup"><span data-stu-id="5d205-104">The different `Enlist` methods correspond to the different types of enlistment that a resource maanger may have.</span></span>  
  
 <span data-ttu-id="5d205-105">Questa classe descrive un'interfaccia che un gestore di risorse deve implementare per fornire i callback di notifica commit a due fasi per la gestione delle transazioni in seguito all'integrazione per la partecipazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-105">This class describes an interface that a resource manager should implement to provide two phase commit notification callbacks for the transaction manager upon enlisting for participation.</span></span> <span data-ttu-id="5d205-106">Per ogni implementazione gestore delle risorse del <xref:System.Transactions.IEnlistmentNotification> interfaccia, è necessario integrarla con il <xref:System.Transactions.Transaction.EnlistVolatile%2A> metodo o il <xref:System.Transactions.Transaction.EnlistDurable%2A> metodo del <xref:System.Transactions.Transaction> (classe), a seconda che la risorsa sia volatile o durevole.</span><span class="sxs-lookup"><span data-stu-id="5d205-106">For each resource manager's implementation of the <xref:System.Transactions.IEnlistmentNotification> interface, you should enlist it using the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class, depending on whether your resource is volatile or durable.</span></span> <span data-ttu-id="5d205-107">Per altre informazioni sull'integrazione e il protocollo 2PC, vedere [integrazione di risorse come partecipanti a una transazione](~/docs/framework/data/transactions/enlisting-resources-as-participants-in-a-transaction.md) e [commit di una transazione in monofase e multifase](~/docs/framework/data/transactions/committing-a-transaction-in-single-phase-and-multi-phase.md) rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="5d205-107">For more information on enlistment and 2PC, see [Enlisting Resources as Participants in a Transaction](~/docs/framework/data/transactions/enlisting-resources-as-participants-in-a-transaction.md) and [Committing a Transaction in Single-Phase and Multi-Phase](~/docs/framework/data/transactions/committing-a-transaction-in-single-phase-and-multi-phase.md) respectively.</span></span>  
  
 <span data-ttu-id="5d205-108">La gestione transazioni informa l'oggetto inserito nell'elenco fasi diverse del protocollo di Commit a due fasi con i metodi seguenti.</span><span class="sxs-lookup"><span data-stu-id="5d205-108">The transaction manager notifies the enlisted object at different phases of the Two Phase Commit Protocol by the following methods.</span></span>  
  
|<span data-ttu-id="5d205-109">Metodo</span><span class="sxs-lookup"><span data-stu-id="5d205-109">Method</span></span>|<span data-ttu-id="5d205-110">Descrizione</span><span class="sxs-lookup"><span data-stu-id="5d205-110">Description</span></span>|  
|------------|-----------------|  
|<xref:System.Transactions.IEnlistmentNotification.Prepare%2A>|<span data-ttu-id="5d205-111">Questo metodo di un oggetto inserito nell'elenco viene usato come callback dalla gestione transazioni durante la prima fase di una transazione, quando il gestore delle transazioni chiede ai partecipanti che possono eseguire il commit della transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-111">This method of an enlisted object is used as a callback by the Transaction Manager during the first phase of a transaction, when the transaction manager asks participants whether they can commit the transaction.</span></span>|  
|<xref:System.Transactions.IEnlistmentNotification.Commit%2A>|<span data-ttu-id="5d205-112">Questo metodo di un oggetto inserito nell'elenco viene usato come callback dalla gestione transazioni durante la seconda fase di una transazione, se la transazione viene eseguito il commit.</span><span class="sxs-lookup"><span data-stu-id="5d205-112">This method of an enlisted object is used as a callback by the Transaction Manager during the second phase of a transaction if the transaction is commited.</span></span>|  
|<xref:System.Transactions.IEnlistmentNotification.Rollback%2A>|<span data-ttu-id="5d205-113">Questo metodo di un oggetto inserito nell'elenco viene usato come callback dalla gestione transazioni durante la seconda fase di una transazione, se la transazione viene interrotta (che è, eseguire il rollback).</span><span class="sxs-lookup"><span data-stu-id="5d205-113">This method of an enlisted object is used as a callback by the Transaction Manager during the second phase of a transaction if the transaction is aborted (that is, rolled back).</span></span>|  
|<xref:System.Transactions.IEnlistmentNotification.InDoubt%2A>|<span data-ttu-id="5d205-114">Questo metodo di un oggetto inserito nell'elenco viene usato come callback dalla gestione transazioni durante la seconda fase di una transazione, se la transazione in dubbio.</span><span class="sxs-lookup"><span data-stu-id="5d205-114">This method of an enlisted object is used as a callback by the Transaction Manager during the second phase of a transaction if the transaction is in doubt.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="5d205-115">È necessario essere consapevoli che le notifiche potrebbero non essere inviate in sequenza o in un ordine particolare.</span><span class="sxs-lookup"><span data-stu-id="5d205-115">You should be aware that notifications might not be sent sequentially, or in a particular order.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5d205-116">Nell'esempio seguente viene illustrata un'implementazione di questa interfaccia, nonché l'integrazione dell'oggetto come partecipante a una transazione che utilizza il <xref:System.Transactions.Transaction.EnlistVolatile%2A> (metodo).</span><span class="sxs-lookup"><span data-stu-id="5d205-116">The following example shows an implementation of this interface, as well as enlisting the object as a participant in a transaction using the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method.</span></span>  
  
 [!code-csharp[Tx_Enlist#1](~/samples/snippets/csharp/VS_Snippets_CFX/tx_enlist/cs/enlist.cs#1)]
 [!code-vb[Tx_Enlist#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/tx_enlist/vb/enlist.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Transactions.ISinglePhaseNotification" />
    <related type="Article" href="http://msdn.microsoft.com/library/786a12c2-d530-49f4-9c59-5c973e15a11d">
      <span data-ttu-id="5d205-117">Integrazione di risorse come partecipanti a una transazione</span>
      <span class="sxs-lookup">
        <span data-stu-id="5d205-117">Enlisting Resources as Participants in a Transaction</span>
      </span>
    </related>
    <related type="Article" href="http://msdn.microsoft.com/library/694ea153-e4db-41ae-96ac-9ac66dcb69a9">
      <span data-ttu-id="5d205-118">Commit di una transazione in monofase e multifase</span>
      <span class="sxs-lookup">
        <span data-stu-id="5d205-118">Committing a Transaction in Single-Phase and Multi-Phase</span>
      </span>
    </related>
  </Docs>
  <Members>
    <Member MemberName="Commit">
      <MemberSignature Language="C#" Value="public void Commit (System.Transactions.Enlistment enlistment);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Commit(class System.Transactions.Enlistment enlistment) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.IEnlistmentNotification.Commit(System.Transactions.Enlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Commit(System::Transactions::Enlistment ^ enlistment);" />
      <MemberSignature Language="F#" Value="abstract member Commit : System.Transactions.Enlistment -&gt; unit" Usage="iEnlistmentNotification.Commit enlistment" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="enlistment" Type="System.Transactions.Enlistment" />
      </Parameters>
      <Docs>
        <param name="enlistment">
          <span data-ttu-id="5d205-119">Oggetto <see cref="T:System.Transactions.Enlistment" /> utilizzato per inviare una risposta alla gestione transazioni.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-119">An <see cref="T:System.Transactions.Enlistment" /> object used to send a response to the transaction manager.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="5d205-120">Notifica a un oggetto inserito nell'elenco che è in corso l'esecuzione del commit di una transazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-120">Notifies an enlisted object that a transaction is being committed.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5d205-121">La gestione transazioni chiama questo metodo di un oggetto inserito nell'elenco durante la seconda fase di commit quando si indica a tutti i partecipanti al commit della transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-121">The transaction manager calls this method of an enlisted object during the second phase of a commitment, when it instructs all participants to commit the transaction.</span></span>  
  
 <span data-ttu-id="5d205-122">Resource manager deve eseguire tutte le operazioni necessarie per completare la transazione e quindi informare il termine chiamando il <xref:System.Transactions.Enlistment.Done%2A> metodo su di `enlistment` parametro.</span><span class="sxs-lookup"><span data-stu-id="5d205-122">The resource manager should perform any work necessary to finish the transaction and then inform the TM that it has finished by calling the <xref:System.Transactions.Enlistment.Done%2A> method on the `enlistment` parameter.</span></span>  
  
 <span data-ttu-id="5d205-123">Se il gestore di risorse è stata integrata in modo permanente, ma non risponde chiamando <xref:System.Transactions.Enlistment.Done%2A> metodo, il gestore delle transazioni è che il gestore di risorse sia stato ricevuto la <xref:System.Transactions.IEnlistmentNotification.Commit%2A> chiamare.</span><span class="sxs-lookup"><span data-stu-id="5d205-123">If the resource manager has enlisted durably, but does not respond by calling <xref:System.Transactions.Enlistment.Done%2A> method, the transaction manager is unsure that the resource manager has received the <xref:System.Transactions.IEnlistmentNotification.Commit%2A> call.</span></span> <span data-ttu-id="5d205-124">Di conseguenza, il gestore delle transazioni resta in attesa di una risposta e mantiene le informazioni rilevanti per questa transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-124">As such, the transaction manager keeps waiting for a response, and maintains information relevant to this transaction.</span></span>  <span data-ttu-id="5d205-125">Se <xref:System.Transactions.Enlistment.Done%2A> viene mai chiamato, questa informazione viene mantenuta in modo indefinito in memoria o in una risorsa a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="5d205-125">If <xref:System.Transactions.Enlistment.Done%2A> is never called, this piece of information is kept around indefinitely in memory or in a system-wide resource.</span></span> <span data-ttu-id="5d205-126">Di conseguenza le risorse non sono in grado di essere recuperato.</span><span class="sxs-lookup"><span data-stu-id="5d205-126">This results in resources not being able to be reclaimed.</span></span> <span data-ttu-id="5d205-127">Nel caso di una transazione distribuita, potrebbe verificarsi il riempimento del log MSDTC interrompe il processo MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5d205-127">In the case of a distributed transaction, this could eventually fill the MSDTC log which halts the MSDTC process.</span></span> <span data-ttu-id="5d205-128">Nel caso di una transazione gestita da <xref:System.Transactions>, ciò comporta un aumento graduale e continui il consumo di memoria del processo di resource manager.</span><span class="sxs-lookup"><span data-stu-id="5d205-128">In the case of a transaction managed by <xref:System.Transactions>, this results in a gradual and continual increase in the memory consumption of the resource manager's process.</span></span> <span data-ttu-id="5d205-129">Pertanto, è indispensabile chiamare il <xref:System.Transactions.Enlistment.Done%2A> metodo dopo il gestore di risorse viene eseguito con la fase di preparazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-129">Therefore, it is crucial that you call the <xref:System.Transactions.Enlistment.Done%2A> method once your resource manager is done with your prepare work.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="InDoubt">
      <MemberSignature Language="C#" Value="public void InDoubt (System.Transactions.Enlistment enlistment);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void InDoubt(class System.Transactions.Enlistment enlistment) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.IEnlistmentNotification.InDoubt(System.Transactions.Enlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void InDoubt(System::Transactions::Enlistment ^ enlistment);" />
      <MemberSignature Language="F#" Value="abstract member InDoubt : System.Transactions.Enlistment -&gt; unit" Usage="iEnlistmentNotification.InDoubt enlistment" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="enlistment" Type="System.Transactions.Enlistment" />
      </Parameters>
      <Docs>
        <param name="enlistment">
          <span data-ttu-id="5d205-130">Oggetto <see cref="T:System.Transactions.Enlistment" /> utilizzato per inviare una risposta alla gestione transazioni.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-130">An <see cref="T:System.Transactions.Enlistment" /> object used to send a response to the transaction manager.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="5d205-131">Notifica a un oggetto inserito nell'elenco che lo stato di una transazione è in dubbio.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-131">Notifies an enlisted object that the status of a transaction is in doubt.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5d205-132">Questo metodo viene chiamato per le risorse volatili, quando il gestore delle transazioni è richiamato un'operazione di commit monofase per una sola risorsa durevole e quindi una connessione alla risorsa durevole è stata interrotta prima di ottenere il risultato della transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-132">This method is called for volatile resources when the transaction manager has invoked a single phase commit operation to a single durable resource, and then connection to the durable resource was lost prior to getting the transaction result.</span></span> <span data-ttu-id="5d205-133">A questo punto, il risultato della transazione non è possibile determinare in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="5d205-133">At that point, the transaction outcome cannot be safely determined.</span></span>  
  
 <span data-ttu-id="5d205-134">Come <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> viene considerato uno stato finale di una transazione, non è necessario chiamare <xref:System.Transactions.IEnlistmentNotification.Commit%2A> oppure <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> dopo la chiamata <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A>.</span><span class="sxs-lookup"><span data-stu-id="5d205-134">As <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> is considered to be a final state for a transaction, you should not call <xref:System.Transactions.IEnlistmentNotification.Commit%2A> or <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> after calling <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5d205-135">L'implementazione di questo metodo per le risorse volatili deve eseguire qualsiasi operazione di ripristino o il contenimento riconosce sui dati interessati.</span><span class="sxs-lookup"><span data-stu-id="5d205-135">Your implementation of this method for the volatile resource should perform whatever recovery or containment operation it understands on the affected data.</span></span>  <span data-ttu-id="5d205-136">Deve anche chiamare il <xref:System.Transactions.Enlistment.Done%2A> metodo su sul `enlistment` parametro dopo aver terminato il proprio lavoro.</span><span class="sxs-lookup"><span data-stu-id="5d205-136">It must also call the <xref:System.Transactions.Enlistment.Done%2A> method on the on the `enlistment` parameter when it has finished its work.</span></span>  
  
 <span data-ttu-id="5d205-137">Se il gestore di risorse è stata integrata in modo permanente, ma non risponde chiamando <xref:System.Transactions.Enlistment.Done%2A> metodo, il gestore delle transazioni è che il gestore di risorse sia stato ricevuto la <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> chiamare.</span><span class="sxs-lookup"><span data-stu-id="5d205-137">If the resource manager has enlisted durably, but does not respond by calling <xref:System.Transactions.Enlistment.Done%2A> method, the transaction manager is unsure that the resource manager has received the <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> call.</span></span> <span data-ttu-id="5d205-138">Di conseguenza, il gestore delle transazioni resta in attesa di una risposta e mantiene le informazioni rilevanti per questa transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-138">As such, the transaction manager keeps waiting for a response, and maintains information relevant to this transaction.</span></span>  <span data-ttu-id="5d205-139">Se <xref:System.Transactions.Enlistment.Done%2A> viene mai chiamato, questa informazione viene mantenuta in modo indefinito in memoria o in una risorsa a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="5d205-139">If <xref:System.Transactions.Enlistment.Done%2A> is never called, this piece of information is kept around indefinitely in memory or in a system-wide resource.</span></span> <span data-ttu-id="5d205-140">Di conseguenza le risorse non sono in grado di essere recuperato.</span><span class="sxs-lookup"><span data-stu-id="5d205-140">This results in resources not being able to be reclaimed.</span></span> <span data-ttu-id="5d205-141">Nel caso di una transazione distribuita, potrebbe verificarsi il riempimento del log MSDTC interrompe il processo MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5d205-141">In the case of a distributed transaction, this could eventually fill the MSDTC log which halts the MSDTC process.</span></span> <span data-ttu-id="5d205-142">Nel caso di una transazione gestita da <xref:System.Transactions>, ciò comporta un aumento graduale e continui il consumo di memoria del processo di resource manager.</span><span class="sxs-lookup"><span data-stu-id="5d205-142">In the case of a transaction managed by <xref:System.Transactions>, this results in a gradual and continual increase in the memory consumption of the resource manager's process.</span></span> <span data-ttu-id="5d205-143">Pertanto, è indispensabile chiamare il <xref:System.Transactions.Enlistment.Done%2A> metodo dopo il gestore di risorse viene eseguito con la fase di preparazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-143">Therefore, it is crucial that you call the <xref:System.Transactions.Enlistment.Done%2A> method once your resource manager is done with your prepare work.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Prepare">
      <MemberSignature Language="C#" Value="public void Prepare (System.Transactions.PreparingEnlistment preparingEnlistment);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Prepare(class System.Transactions.PreparingEnlistment preparingEnlistment) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.IEnlistmentNotification.Prepare(System.Transactions.PreparingEnlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Prepare(System::Transactions::PreparingEnlistment ^ preparingEnlistment);" />
      <MemberSignature Language="F#" Value="abstract member Prepare : System.Transactions.PreparingEnlistment -&gt; unit" Usage="iEnlistmentNotification.Prepare preparingEnlistment" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="preparingEnlistment" Type="System.Transactions.PreparingEnlistment" />
      </Parameters>
      <Docs>
        <param name="preparingEnlistment">
          <span data-ttu-id="5d205-144">Oggetto <see cref="T:System.Transactions.PreparingEnlistment" /> utilizzato per inviare una risposta al gestore delle transazioni.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-144">A <see cref="T:System.Transactions.PreparingEnlistment" /> object used to send a response to the transaction manager.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="5d205-145">Notifica a un oggetto inserito nell'elenco che è in corso la preparazione di una transazione per il commit.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-145">Notifies an enlisted object that a transaction is being prepared for commitment.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5d205-146">La gestione transazioni chiama questo metodo di una risorsa integrata durante la fase 1 di un impegno significativo, quando si chiede ai partecipanti che possono eseguire il commit della transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-146">The transaction manager calls this method of an enlisted resource manager during the phase 1 of a commitment, when it asks participants whether they can commit the transaction.</span></span>  
  
 <span data-ttu-id="5d205-147">Quando si implementa un gestore di risorse durevoli, è consigliabile registrare la preparazione di record durante questa fase.</span><span class="sxs-lookup"><span data-stu-id="5d205-147">When you are implementing a durable resource manager, you should log your prepare record during this phase.</span></span> <span data-ttu-id="5d205-148">Il record deve contenere tutte le informazioni necessarie per eseguire il ripristino.</span><span class="sxs-lookup"><span data-stu-id="5d205-148">The record should contain all the necessary information to perform recovery.</span></span> <span data-ttu-id="5d205-149">Ciò include la <xref:System.Transactions.PreparingEnlistment.RecoveryInformation%2A> proprietà, che viene passato al gestore delle transazioni nel <xref:System.Transactions.TransactionManager.Reenlist%2A> metodo durante il ripristino.</span><span class="sxs-lookup"><span data-stu-id="5d205-149">This includes the <xref:System.Transactions.PreparingEnlistment.RecoveryInformation%2A> property, which is passed to the transaction manager in the <xref:System.Transactions.TransactionManager.Reenlist%2A> method during recovery.</span></span> <span data-ttu-id="5d205-150">Per altre informazioni sul ripristino, vedere [Performing Recovery](http://msdn.microsoft.com/library/d342c5c7-da64-4a4c-8e63-b52f4fbf2691).</span><span class="sxs-lookup"><span data-stu-id="5d205-150">For more information on recovery, see [Performing Recovery](http://msdn.microsoft.com/library/d342c5c7-da64-4a4c-8e63-b52f4fbf2691).</span></span>  
  
 <span data-ttu-id="5d205-151">Il gestore di risorse deve completare tutte le operazioni che devono essere completate prima di chiamare il <xref:System.Transactions.PreparingEnlistment.Prepared%2A> metodo di `preparingEnlistment` parametro per indicare la scelta del commit.</span><span class="sxs-lookup"><span data-stu-id="5d205-151">Your resource manager should complete all work that must be finished before calling the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> method of the `preparingEnlistment` parameter to indicate its vote for commitment.</span></span> <span data-ttu-id="5d205-152">È necessario assicurarsi che questa operazione viene eseguita prima di ricevere qualsiasi notifica della fase 2, ad esempio eseguire il commit, rollback o dubbio.</span><span class="sxs-lookup"><span data-stu-id="5d205-152">You should make sure that this is accomplished before receiving any phase 2 notification such as commit, rollback or in doubt.</span></span> <span data-ttu-id="5d205-153">Infatti, fase 2 le notifiche possono presentarsi inline nello stesso thread che ha chiamato la <xref:System.Transactions.PreparingEnlistment.Prepared%2A> metodo nella fase 1.</span><span class="sxs-lookup"><span data-stu-id="5d205-153">This is because phase 2 notifications can happen inline on the same thread that called the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> method in phase 1.</span></span> <span data-ttu-id="5d205-154">Ne consegue che, dopo la chiamata al metodo  <xref:System.Transactions.PreparingEnlistment.Prepared%2A>, non occorre eseguire alcuna operazione (ad esempio il rilascio dei blocchi) che si prevede sia stata completata prima di ricevere le notifiche della fase 2.</span><span class="sxs-lookup"><span data-stu-id="5d205-154">As such, you should not do any work after the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> call (for example, releasing locks) that you would expect to have completed before receiving the phase 2 notifications.</span></span>  
  
 <span data-ttu-id="5d205-155">È anche possibile chiamare il metodo di `preparingEnlistment` parametro per indicare la scelta del rollback.</span><span class="sxs-lookup"><span data-stu-id="5d205-155">You can also call the method of the `preparingEnlistment` parameter to indicate a vote for rollback.</span></span>  
  
 <span data-ttu-id="5d205-156">Se si desidera che l'oggetto per osservare semplicemente e reagire allo stato di avanzamento della transazione, senza che fanno parte di esso, l'implementazione di questo metodo deve chiamare il <xref:System.Transactions.Enlistment.Done%2A> metodo di `preparingEnlistment` parametro dopo aver terminato il proprio lavoro.</span><span class="sxs-lookup"><span data-stu-id="5d205-156">If you want the object to merely observe and react to the progress of the transaction, without participating in it, your implementation of this method should call the <xref:System.Transactions.Enlistment.Done%2A> method of the `preparingEnlistment` parameter when it has finished its work.</span></span> <span data-ttu-id="5d205-157">In questo modo, il gestore di risorse non riceverà alcuna notifica della fase 2.</span><span class="sxs-lookup"><span data-stu-id="5d205-157">By doing so, your resource manager would not receive any phase 2 notification.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Rollback">
      <MemberSignature Language="C#" Value="public void Rollback (System.Transactions.Enlistment enlistment);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Rollback(class System.Transactions.Enlistment enlistment) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.IEnlistmentNotification.Rollback(System.Transactions.Enlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Rollback(System::Transactions::Enlistment ^ enlistment);" />
      <MemberSignature Language="F#" Value="abstract member Rollback : System.Transactions.Enlistment -&gt; unit" Usage="iEnlistmentNotification.Rollback enlistment" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="enlistment" Type="System.Transactions.Enlistment" />
      </Parameters>
      <Docs>
        <param name="enlistment">
          <span data-ttu-id="5d205-158">Oggetto <see cref="T:System.Transactions.Enlistment" /> utilizzato per inviare una risposta al gestore delle transazioni.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-158">A <see cref="T:System.Transactions.Enlistment" /> object used to send a response to the transaction manager.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="5d205-159">Notifica a un oggetto inserito nell'elenco che è in corso l'esecuzione del rollback (interruzione) di una transazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5d205-159">Notifies an enlisted object that a transaction is being rolled back (aborted).</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5d205-160">La gestione transazioni chiama questo metodo di un oggetto inserito nell'elenco quando la transazione è in fase di rollback (interruzione) a causa dell'impossibilità di uno o più partecipanti alla transazione commit della transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-160">The transaction manager calls this method of an enlisted object when the transaction is being rolled back (aborted) due to the inability of one or more transaction participants to commit the transaction.</span></span>  
  
 <span data-ttu-id="5d205-161">Resource manager deve eseguire tutte le operazioni necessarie per completare la transazione e quindi informare il termine chiamando il <xref:System.Transactions.Enlistment.Done%2A> metodo su di `enlistment` parametro.</span><span class="sxs-lookup"><span data-stu-id="5d205-161">The resource manager should perform any work necessary to finish the transaction and then inform the TM that it has finished by calling the <xref:System.Transactions.Enlistment.Done%2A> method on the `enlistment` parameter.</span></span>  
  
 <span data-ttu-id="5d205-162">Se il gestore di risorse è stata integrata in modo permanente, ma non risponde chiamando <xref:System.Transactions.Enlistment.Done%2A> metodo, il gestore delle transazioni è che il gestore di risorse sia stato ricevuto la <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> chiamare.</span><span class="sxs-lookup"><span data-stu-id="5d205-162">If the resource manager has enlisted durably, but does not respond by calling <xref:System.Transactions.Enlistment.Done%2A> method, the transaction manager is unsure that the resource manager has received the <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> call.</span></span> <span data-ttu-id="5d205-163">Di conseguenza, il gestore delle transazioni resta in attesa di una risposta e mantiene le informazioni rilevanti per questa transazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-163">As such, the transaction manager keeps waiting for a response, and maintains information relevant to this transaction.</span></span>  <span data-ttu-id="5d205-164">Se <xref:System.Transactions.Enlistment.Done%2A> viene mai chiamato, questa informazione viene mantenuta in modo indefinito in memoria o in una risorsa a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="5d205-164">If <xref:System.Transactions.Enlistment.Done%2A> is never called, this piece of information is kept around indefinitely in memory or in a system-wide resource.</span></span> <span data-ttu-id="5d205-165">Di conseguenza le risorse non sono in grado di essere recuperato.</span><span class="sxs-lookup"><span data-stu-id="5d205-165">This results in resources not being able to be reclaimed.</span></span> <span data-ttu-id="5d205-166">Nel caso di una transazione distribuita, potrebbe verificarsi il riempimento del log MSDTC interrompe il processo MSDTC.</span><span class="sxs-lookup"><span data-stu-id="5d205-166">In the case of a distributed transaction, this could eventually fill the MSDTC log which halts the MSDTC process.</span></span> <span data-ttu-id="5d205-167">Nel caso di una transazione gestita da <xref:System.Transactions>, ciò comporta un aumento graduale e continui il consumo di memoria del processo di resource manager.</span><span class="sxs-lookup"><span data-stu-id="5d205-167">In the case of a transaction managed by <xref:System.Transactions>, this results in a gradual and continual increase in the memory consumption of the resource manager's process.</span></span> <span data-ttu-id="5d205-168">Pertanto, è indispensabile chiamare il <xref:System.Transactions.Enlistment.Done%2A> metodo dopo il gestore di risorse viene eseguito con la fase di preparazione.</span><span class="sxs-lookup"><span data-stu-id="5d205-168">Therefore, it is crucial that you call the <xref:System.Transactions.Enlistment.Done%2A> method once your resource manager is done with your prepare work.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>