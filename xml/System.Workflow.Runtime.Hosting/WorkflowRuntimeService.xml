<Type Name="WorkflowRuntimeService" FullName="System.Workflow.Runtime.Hosting.WorkflowRuntimeService">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="7ab23a51523641b0fb1578542115b55cb31ce463" />
    <Meta Name="ms.sourcegitcommit" Value="0ec122ee5f3681159b8460ab15b409fd6e3d3ae0" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="10/04/2018" />
    <Meta Name="ms.locfileid" Value="48730151" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class WorkflowRuntimeService" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit WorkflowRuntimeService extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class WorkflowRuntimeService" />
  <TypeSignature Language="C++ CLI" Value="public ref class WorkflowRuntimeService abstract" />
  <TypeSignature Language="F#" Value="type WorkflowRuntimeService = class" />
  <AssemblyInfo>
    <AssemblyName>System.Workflow.Runtime</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.Obsolete("The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="eb0e0-101">Rappresenta la classe base astratta dalla quale vengono derivati i servizi di base del motore di runtime del flusso di lavoro.</span>
      <span class="sxs-lookup">
        <span data-stu-id="eb0e0-101">Represents the abstract base class from which the workflow runtime engine core services are derived.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  [!INCLUDE[DeprecatedContent](~/includes/deprecatedcontent-md.md)]  
  
 <span data-ttu-id="eb0e0-102">I servizi che derivano dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> possono essere avviati e arrestati dal motore di runtime del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-102">Services that derive from the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class can be started and stopped by the workflow runtime engine.</span></span> <span data-ttu-id="eb0e0-103">L'ordine in cui i servizi vengono avviati o arrestati, tuttavia, è indeterminato e i servizi possono richiedere il supporto di altri servizi allo scopo di eseguire correttamente l'inizializzazione quando vengono avviati e, al contrario, possono richiedere il supporto di altri servizi allo scopo di eseguire correttamente la chiusura quando vengono arrestati.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-103">The order in which the services are started or stopped, however, is indeterminate, and services may require the support of other services in order to properly initialize themselves when they are started, and, conversely, may require the to support of other services in order to properly shut down when they are stopped.</span></span> <span data-ttu-id="eb0e0-104">Per risolvere questo problema, il motore di runtime del flusso di lavoro fornisce meccanismi a due fasi per l'avvio e l'arresto dei servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-104">To address this problem, the workflow runtime engine provides two-phase mechanisms for starting and stopping services.</span></span> <span data-ttu-id="eb0e0-105">Quando <xref:System.Workflow.Runtime.WorkflowRuntime.StartRuntime%2A> viene chiamato, il motore di runtime del flusso di lavoro richiama il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> per ognuno dei servizi che derivano dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-105">When <xref:System.Workflow.Runtime.WorkflowRuntime.StartRuntime%2A> is called, the workflow runtime engine invokes the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method for each of its services that derive from the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class.</span></span>  <span data-ttu-id="eb0e0-106">Quando tutti questi servizi sono stati avviati, il motore di runtime del flusso di lavoro genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> che provoca la chiamata del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> per ogni servizio del motore di runtime del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-106">After all of these services have been started, the workflow runtime engine raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> event, which causes the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> method to be invoked for each workflow runtime engine service.</span></span> <span data-ttu-id="eb0e0-107">Il servizio può eseguire l'override del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> per partecipare a questo processo a due fasi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-107">Your service can override the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> method to participate in this two phase process.</span></span> <span data-ttu-id="eb0e0-108">In modo analogo, quando <xref:System.Workflow.Runtime.WorkflowRuntime.StopRuntime%2A> viene chiamato, il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A>, l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> e il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> forniscono questo meccanismo a due fasi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-108">Similarly, when <xref:System.Workflow.Runtime.WorkflowRuntime.StopRuntime%2A> is called, the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method, the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> event, and the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> method provide this two-phase mechanism.</span></span>  <span data-ttu-id="eb0e0-109">La proprietà State contiene un valore <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState> che indica se il servizio è in fase di avvio o di arresto oppure se è stato completamente avviato o arrestato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-109">The State property contains a <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState> value that indicates whether the service is in the process of starting or stopping or is completely started or stopped.</span></span>  
  
 <span data-ttu-id="eb0e0-110">I servizi che derivano dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> possono generare l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.ServicesExceptionNotHandled?displayProperty=nameWithType> quando incontrano una condizione che provoca un'eccezione non gestita chiamando <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.RaiseServicesExceptionNotHandledEvent%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-110">Services that derive from the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class can raise the <xref:System.Workflow.Runtime.WorkflowRuntime.ServicesExceptionNotHandled?displayProperty=nameWithType> event when they encounter a condition that causes an unhandled exception by calling <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.RaiseServicesExceptionNotHandledEvent%2A>.</span></span>  
  
 <span data-ttu-id="eb0e0-111">I servizi derivati dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowSchedulerService>, dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>, dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> e dalla classe <xref:System.Workflow.Runtime.Tracking.TrackingService> derivano dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-111">Services derived from the <xref:System.Workflow.Runtime.Hosting.WorkflowSchedulerService> class, the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> class, the <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> class, and the <xref:System.Workflow.Runtime.Tracking.TrackingService> class ultimately derives from the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected WorkflowRuntimeService ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; WorkflowRuntimeService();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-112">Quando viene implementato in una classe derivata, inizializza una nuova istanza della classe <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-112">When implemented in a derived class, initializes a new instance of the <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" /> class.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-113">L'enumerazione <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> viene inizializzata su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopped>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-113"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> is initialized to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopped>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnStarted">
      <MemberSignature Language="C#" Value="protected virtual void OnStarted ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnStarted() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnStarted ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnStarted();" />
      <MemberSignature Language="F#" Value="abstract member OnStarted : unit -&gt; unit&#xA;override this.OnStarted : unit -&gt; unit" Usage="workflowRuntimeService.OnStarted " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-114">Quando viene sottoposto a override in una classe derivata, rappresenta il metodo che verrà chiamato quando il motore di runtime del flusso di lavoro genera l'evento <see cref="E:System.Workflow.Runtime.WorkflowRuntime.Started" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-114">When overridden in a derived class, represents the method that will be called when the workflow runtime engine raises the <see cref="E:System.Workflow.Runtime.WorkflowRuntime.Started" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-115">La classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> implementa un meccanismo di avvio a due fasi che consente ai servizi del motore di runtime del flusso di lavoro di eseguire qualsiasi inizializzazione che dipende da altri servizi dopo che il motore di runtime del flusso di lavoro ha richiamato il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> per tutti i relativi servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-115">The <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class implements a two-phase starting mechanism so that workflow runtime engine services may perform any initialization that depends on other services after the workflow runtime engine has invoked the  <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method for all of its workflow runtime engine services.</span></span> <span data-ttu-id="eb0e0-116">Dopo aver chiamato il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> di tutti i relativi servizi, il motore di runtime del flusso di lavoro genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-116">After the workflow runtime engine has called the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method of all of its workflow runtime engine services, it raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="eb0e0-117">È possibile eseguire l'override del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> per fornire qualsiasi funzionalità di avvio conclusiva richiesta del servizio quando viene generato l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-117">You can override the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> method to provide any final startup functionality required by your service when the <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> event is raised.</span></span> <span data-ttu-id="eb0e0-118">Il meccanismo di sottoscrizione e annullamento della sottoscrizione dell'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> viene gestito internamente.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-118">The mechanics of subscribing and unsubscribing from the <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> event is handled internally.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eb0e0-119">Se il servizio viene aggiunto al motore di runtime del flusso di lavoro mediante una chiamata a <xref:System.Workflow.Runtime.WorkflowRuntime.AddService%2A> dopo l'avvio del motore di runtime del flusso di lavoro, quest'ultimo chiamerà il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-119">If your service is added to the workflow runtime engine by a call to <xref:System.Workflow.Runtime.WorkflowRuntime.AddService%2A> after the workflow runtime engine has already been started, the workflow runtime engine will call <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> on your service.</span></span> <span data-ttu-id="eb0e0-120">In questa situazione, tuttavia, l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started> si già è verificato, pertanto può essere necessario che il servizio esegua qualsiasi inizializzazione che normalmente eseguirebbe in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> dal metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-120">However, in this situation, the <xref:System.Workflow.Runtime.WorkflowRuntime.Started> event has already occurred, therefore, your service may have to perform any initialization that it would ordinarily perform in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> from inside the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method.</span></span> <span data-ttu-id="eb0e0-121">È possibile testare <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> per determinare se il motore di runtime del flusso di lavoro è stato avviato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-121">You can test <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> to determine whether the workflow runtime engine has been started.</span></span>  
  
 <span data-ttu-id="eb0e0-122"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> viene impostato su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Started> prima che <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> venga richiamato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-122"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> is set to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Started> before <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> is invoked.</span></span>  <span data-ttu-id="eb0e0-123">L'implementazione predefinita di <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> non esegue azioni.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-123">The default implementation of <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> performs no action.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="OnStopped">
      <MemberSignature Language="C#" Value="protected virtual void OnStopped ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void OnStopped() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub OnStopped ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void OnStopped();" />
      <MemberSignature Language="F#" Value="abstract member OnStopped : unit -&gt; unit&#xA;override this.OnStopped : unit -&gt; unit" Usage="workflowRuntimeService.OnStopped " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-124">Quando viene sottoposto a override in una classe derivata, rappresenta il metodo che verrà chiamato quando il motore di runtime del flusso di lavoro genera l'evento <see cref="E:System.Workflow.Runtime.WorkflowRuntime.Stopped" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-124">When overridden in a derived class, represents the method that will be called when the workflow runtime engine raises the <see cref="E:System.Workflow.Runtime.WorkflowRuntime.Stopped" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-125">La classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> implementa un meccanismo di arresto a due fasi che consente ai servizi del motore di runtime del flusso di lavoro di mantenere alcune funzionalità dopo che il relativo metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> viene richiamato dal motore di runtime del flusso in modo che possano, se necessario, supportare la chiusura di altri servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-125">The <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class implements a two-phase stopping mechanism so that workflow runtime engine services may retain some functionality after their <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method is invoked by the workflow runtime engine in order that they may, if necessary, support the shutdown of other services.</span></span> <span data-ttu-id="eb0e0-126">Dopo aver chiamato il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> di tutti i relativi servizi, il motore di runtime del flusso di lavoro genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-126">After the workflow runtime engine has called the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method of all of its workflow runtime engine services, it raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="eb0e0-127">È possibile eseguire l'override del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> per fornire qualsiasi funzionalità di chiusura conclusiva richiesta del servizio quando l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> viene generato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-127">You can override the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> method to provide any final shutdown functionality required by your service when the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> event is raised.</span></span> <span data-ttu-id="eb0e0-128">Il meccanismo di sottoscrizione e annullamento della sottoscrizione dell'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> viene gestito internamente.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-128">The mechanics of subscribing and unsubscribing from the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> event is handled internally.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eb0e0-129">Se <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> viene rimosso dal motore di runtime del flusso di lavoro mediante una chiamata a <xref:System.Workflow.Runtime.WorkflowRuntime.RemoveService%2A> mentre il motore di runtime del flusso di lavoro è in esecuzione, quest'ultimo chiamerà il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-129">If your <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> is removed from the workflow runtime engine by a call to <xref:System.Workflow.Runtime.WorkflowRuntime.RemoveService%2A> while the workflow runtime engine is running, the workflow runtime engine will call <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> on your service.</span></span> <span data-ttu-id="eb0e0-130">In questa situazione, il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> non verrà tuttavia chiamato per il servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-130">However, in this situation, the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> method will not be called for your service.</span></span> <span data-ttu-id="eb0e0-131">Di conseguenza, è possibile che il servizio debba eseguire operazioni di chiusura conclusive che normalmente eseguirebbe in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> dal metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-131">Therefore, your service may have to perform any final shutdown that it would ordinarily perform in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> from inside the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method.</span></span> <span data-ttu-id="eb0e0-132">È possibile testare <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> per determinare se il motore di runtime del flusso di lavoro è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-132">You can test <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> to determine whether the workflow runtime engine is running.</span></span>  
  
 <span data-ttu-id="eb0e0-133"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> viene impostato su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopped> prima che <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> venga richiamato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-133"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> is set to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopped> before <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> is invoked.</span></span>  <span data-ttu-id="eb0e0-134">L'implementazione predefinita di <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> non esegue azioni.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-134">The default implementation of <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> performs no action.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="RaiseServicesExceptionNotHandledEvent">
      <MemberSignature Language="C#" Value="protected void RaiseServicesExceptionNotHandledEvent (Exception exception, Guid instanceId);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance void RaiseServicesExceptionNotHandledEvent(class System.Exception exception, valuetype System.Guid instanceId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.RaiseServicesExceptionNotHandledEvent(System.Exception,System.Guid)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; void RaiseServicesExceptionNotHandledEvent(Exception ^ exception, Guid instanceId);" />
      <MemberSignature Language="F#" Value="member this.RaiseServicesExceptionNotHandledEvent : Exception * Guid -&gt; unit" Usage="workflowRuntimeService.RaiseServicesExceptionNotHandledEvent (exception, instanceId)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="exception" Type="System.Exception" />
        <Parameter Name="instanceId" Type="System.Guid" />
      </Parameters>
      <Docs>
        <param name="exception">
          <span data-ttu-id="eb0e0-135">Eccezione non gestita.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-135">The exception that could not be handled.</span>
          </span>
        </param>
        <param name="instanceId">
          <span data-ttu-id="eb0e0-136">Oggetto <see cref="T:System.Guid" /> dell'istanza del flusso di lavoro associato all'eccezione non gestita.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-136">The <see cref="T:System.Guid" /> of the workflow instance associated with the unhandled exception.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="eb0e0-137">Genera l'evento <see cref="E:System.Workflow.Runtime.WorkflowRuntime.ServicesExceptionNotHandled" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-137">Raises the <see cref="E:System.Workflow.Runtime.WorkflowRuntime.ServicesExceptionNotHandled" /> event.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-138">Il servizio può chiamare <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.RaiseServicesExceptionNotHandledEvent%2A> per generare l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.ServicesExceptionNotHandled?displayProperty=nameWithType> quando rileva un'eccezione che non può gestire durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-138">Your service can call <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.RaiseServicesExceptionNotHandledEvent%2A> to raise the <xref:System.Workflow.Runtime.WorkflowRuntime.ServicesExceptionNotHandled?displayProperty=nameWithType> event when it encounters an exception that it cannot handle during its execution.</span></span> <span data-ttu-id="eb0e0-139">È necessario passare l'identificatore <xref:System.Guid> dell'istanza del flusso di lavoro associato all'eccezione non gestita.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-139">You should pass the <xref:System.Guid> of the workflow instance associated with the unhandled exception.</span></span> <span data-ttu-id="eb0e0-140">Ad esempio, un servizio timer può passare il <xref:System.Guid> associato al timer per il quale si è verificata l'eccezione.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-140">For example, a timer service might pass the <xref:System.Guid> associated with the timer for which the exception occurred.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Runtime">
      <MemberSignature Language="C#" Value="protected System.Workflow.Runtime.WorkflowRuntime Runtime { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Workflow.Runtime.WorkflowRuntime Runtime" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime" />
      <MemberSignature Language="VB.NET" Value="Protected ReadOnly Property Runtime As WorkflowRuntime" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::Workflow::Runtime::WorkflowRuntime ^ Runtime { System::Workflow::Runtime::WorkflowRuntime ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.Runtime : System.Workflow.Runtime.WorkflowRuntime" Usage="System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.Runtime.WorkflowRuntime</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-141">Ottiene la classe <see cref="T:System.Workflow.Runtime.WorkflowRuntime" /> per questo servizio.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-141">Gets the <see cref="T:System.Workflow.Runtime.WorkflowRuntime" /> for this service.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="eb0e0-142">Oggetto <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-142">The <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" /> object.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-143">Il motore di runtime del flusso di lavoro imposta questa proprietà prima di chiamare <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-143">The workflow runtime engine sets this property before it calls <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> on the service.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Start">
      <MemberSignature Language="C#" Value="protected internal virtual void Start ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig newslot virtual instance void Start() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overridable Sub Start ()" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; virtual void Start();" />
      <MemberSignature Language="F#" Value="abstract member Start : unit -&gt; unit&#xA;override this.Start : unit -&gt; unit" Usage="workflowRuntimeService.Start " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-144">Quando viene sottoposto a override in una classe derivata, avvia il servizio e modifica la classe <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State" /> in <see cref="F:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Starting" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-144">When overridden in a derived class, starts the service and changes the <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State" /> to <see cref="F:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Starting" />.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-145"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> viene richiamato dal motore di runtime del flusso di lavoro su tutti i servizi derivati dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> quando <xref:System.Workflow.Runtime.WorkflowRuntime.StartRuntime%2A> viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-145"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> is invoked by the workflow runtime engine on all of its services that derive from the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class when <xref:System.Workflow.Runtime.WorkflowRuntime.StartRuntime%2A> is called.</span></span>  
  
 <span data-ttu-id="eb0e0-146"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> viene richiamato anche dal motore di runtime del flusso di lavoro quando un servizio del motore di runtime del flusso di lavoro viene aggiunto allo stesso da una chiamata a <xref:System.Workflow.Runtime.WorkflowRuntime.AddService%2A> dopo l'avvio del motore di runtime del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-146"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> is also invoked by the workflow runtime engine when a workflow runtime engine service is added to the workflow runtime engine by a call to <xref:System.Workflow.Runtime.WorkflowRuntime.AddService%2A> after the workflow runtime engine has already started.</span></span> <span data-ttu-id="eb0e0-147">L'implementazione predefinita di <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> rileva se il servizio è stato avviato e utilizza queste informazioni per generare l'eccezione adatta se il servizio viene avviato mentre è già in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-147">The default implementation of <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> tracks whether the service has been started and uses this information to throw the appropriate exception if the service is started while it is already running.</span></span>  
  
 <span data-ttu-id="eb0e0-148">Per fare in modo che il servizio venga avviato dal motore di runtime del flusso di lavoro, è possibile fornire le funzionalità aggiuntive eseguendo l'override di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-148">You can provide additional functionality necessary to have your service started by the workflow runtime engine by overriding this method.</span></span> <span data-ttu-id="eb0e0-149">Non è possibile garantire quale servizio, se disponibile, sia in esecuzione quando il motore di runtime di flusso di lavoro chiama <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-149">There is no guarantee about which, if any, services will be running when the workflow runtime engine calls <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> on your service.</span></span> <span data-ttu-id="eb0e0-150">Nel metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A>, pertanto, è necessario eseguire solo un'inizializzazione che non dipende dalla funzionalità fornita da altri servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-150">Therefore, in the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method, you should only perform any initialization that does not depend on functionality provided by other services.</span></span> <span data-ttu-id="eb0e0-151">Tali funzionalità includono quelle fornite dai servizi di base, ad esempio il servizio Utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-151">This includes functionality provided by core services such as the scheduler service.</span></span> <span data-ttu-id="eb0e0-152">Il motore di runtime del flusso di lavoro genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> dopo aver chiamato il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> di tutti i relativi servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-152">The workflow runtime engine raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Started?displayProperty=nameWithType> event after it has called the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method of all of its workflow runtime engine services.</span></span> <span data-ttu-id="eb0e0-153">Se il servizio richiede ulteriori inizializzazioni dopo l'avvio di tutti i servizi del motore di runtime del flusso di lavoro, è possibile eseguire l'override del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> per eseguire tale inizializzazione quando viene generato l'evento <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-153">If your service requires additional initialization after all of the workflow runtime engine services have been started, you can override the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> method in order to perform this initialization when the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> event is raised.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eb0e0-154">Se il servizio viene aggiunto al motore di runtime del flusso di lavoro mediante una chiamata a <xref:System.Workflow.Runtime.WorkflowRuntime.AddService%2A> dopo l'avvio del motore di runtime del flusso di lavoro, quest'ultimo chiamerà il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-154">If your service is added to the workflow runtime engine by a call to <xref:System.Workflow.Runtime.WorkflowRuntime.AddService%2A> after the workflow runtime engine has already been started, the workflow runtime engine will call <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> on your service.</span></span> <span data-ttu-id="eb0e0-155">In questa situazione, tuttavia, l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started> si già è verificato, pertanto può essere necessario che il servizio esegua qualsiasi inizializzazione che normalmente eseguirebbe in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> dal metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-155">However, in this situation, the <xref:System.Workflow.Runtime.WorkflowRuntime.Started> event has already occurred, therefore, your service may have to perform any initialization that it would ordinarily perform in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted%2A> from inside the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method.</span></span> <span data-ttu-id="eb0e0-156">È possibile testare <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> per determinare se il motore di runtime del flusso di lavoro è stato avviato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-156">You can test <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> to determine whether the workflow runtime engine has been started.</span></span>  
  
 <span data-ttu-id="eb0e0-157"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> deve essere chiamato solo dal motore di runtime del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-157"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> should only be called by the workflow runtime engine.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="eb0e0-158">Nell'esempio seguente viene illustrata la chiamata del metodo Start su un oggetto derivato da <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService>, TerminationTrackingService.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-158">The following example demonstrates calling the Start method on an object derived from <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService>, TerminationTrackingService.</span></span>  <span data-ttu-id="eb0e0-159">Questo esempio è tratto dall'esempio SDK Termination Tracking Service.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-159">This example is from the Termination Tracking Service SDK sample.</span></span>  <span data-ttu-id="eb0e0-160">Per altre informazioni, vedere [esempio di servizio di rilevamento di chiusura](http://msdn.microsoft.com/library/29b7c0d7-cece-4bb9-96d0-c5b6c6e14439).</span><span class="sxs-lookup"><span data-stu-id="eb0e0-160">For more information, see [Termination Tracking Service Sample](http://msdn.microsoft.com/library/29b7c0d7-cece-4bb9-96d0-c5b6c6e14439).</span></span>  
  
 [!code-csharp[WF_Samples#112](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets1.cs#112)]
 [!code-vb[WF_Samples#112](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets1.vb#112)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="eb0e0-161">
            <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime" /> è un riferimento null (<see langword="Nothing" /> in Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-161">
              <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime" /> is a null reference (<see langword="Nothing" /> in Visual Basic)</span>
          </span>
          <span data-ttu-id="eb0e0-162">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-162">-or-</span>
          </span>
          <span data-ttu-id="eb0e0-163">Il servizio è già stato avviato.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-163">The service has already been started.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="State">
      <MemberSignature Language="C#" Value="protected System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState State { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState State" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State" />
      <MemberSignature Language="VB.NET" Value="Protected ReadOnly Property State As WorkflowRuntimeServiceState" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::Workflow::Runtime::Hosting::WorkflowRuntimeServiceState State { System::Workflow::Runtime::Hosting::WorkflowRuntimeServiceState get(); };" />
      <MemberSignature Language="F#" Value="member this.State : System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState" Usage="System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-164">Ottiene lo stato della classe <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-164">Gets the state of the <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="eb0e0-165">Uno dei valori di <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-165">One of the <see cref="T:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState" /> values.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-166">La classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> implementa meccanismi a due fasi per l'avvio e l'arresto di un servizio del motore di runtime del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-166">The <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class implements two-phase mechanisms for both starting and stopping a workflow runtime engine service.</span></span> <span data-ttu-id="eb0e0-167">La prima fase del meccanismo di avvio inizia quando il motore di runtime del flusso di lavoro richiede l'implementazione del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> per il servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-167">The first phase of the start mechanism begins when the workflow runtime engine calls the implementation of the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A> method for the service.</span></span> <span data-ttu-id="eb0e0-168">Questo metodo deve chiamare l'implementazione base di <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A>, che imposta <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Starting>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-168">This method should call the base implementation of <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start%2A>, which sets <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Starting>.</span></span> <span data-ttu-id="eb0e0-169">La seconda fase si verifica dopo che il motore di runtime del flusso di lavoro ha avviato tutti i relativi servizi quando genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Started>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-169">The second phase occurs after the workflow runtime engine starts all of its workflow runtime engine services when it raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Started> event.</span></span> <span data-ttu-id="eb0e0-170"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> gestisce internamente una sottoscrizione a questo evento e il relativo gestore imposterà <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Started>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-170">The <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> internally manages a subscription to this event and its handler will set <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Started>.</span></span>  
  
 <span data-ttu-id="eb0e0-171">Il meccanismo a due fasi per l'arresto di un servizio del motore di runtime del flusso di lavoro ha inizio quando il motore di runtime richiede l'implementazione del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> per il servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-171">The two-phase mechanism for stopping a workflow runtime engine service begins when the workflow runtime engine calls the implementation of the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method for the service.</span></span> <span data-ttu-id="eb0e0-172">Questo metodo deve chiamare l'implementazione base di <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A>, che imposta <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopping>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-172">This method should call the base implementation of <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A>, which sets <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopping>.</span></span> <span data-ttu-id="eb0e0-173">Il motore di runtime del flusso di lavoro genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped> dopo aver arrestato tutti i relativi servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-173">After it has stopped all of its workflow runtime engine services, the workflow runtime engine raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped> event.</span></span> <span data-ttu-id="eb0e0-174"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> gestisce internamente una sottoscrizione a questo evento e il relativo gestore imposterà <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> su <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopped>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-174">The <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> internally manages a subscription to this event and its handler will set <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State%2A> to <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopped>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Stop">
      <MemberSignature Language="C#" Value="protected internal virtual void Stop ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig newslot virtual instance void Stop() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overridable Sub Stop ()" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; virtual void Stop();" />
      <MemberSignature Language="F#" Value="abstract member Stop : unit -&gt; unit&#xA;override this.Stop : unit -&gt; unit" Usage="workflowRuntimeService.Stop " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="eb0e0-175">Quando viene sottoposto a override in una classe derivata, arresta il servizio e modifica la classe <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State" /> in <see cref="F:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopping" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-175">When overridden in a derived class, stops the service and changes the <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State" /> to <see cref="F:System.Workflow.Runtime.Hosting.WorkflowRuntimeServiceState.Stopping" />.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="eb0e0-176"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> viene richiamato dal motore di runtime del flusso di lavoro su tutti i servizi derivati dalla classe <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> quando <xref:System.Workflow.Runtime.WorkflowRuntime.StopRuntime%2A> viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-176"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> is invoked by the workflow runtime engine on all of its services that derive from the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> class when <xref:System.Workflow.Runtime.WorkflowRuntime.StopRuntime%2A> is called.</span></span>  <span data-ttu-id="eb0e0-177">Anche <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> viene richiamato dal motore di runtime del flusso di lavoro quando un servizio del motore di runtime del flusso di lavoro viene rimosso mediante una chiamata a <xref:System.Workflow.Runtime.WorkflowRuntime.RemoveService%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-177"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> is also invoked by the workflow runtime engine when a workflow runtime engine service is removed from the workflow runtime engine by a call to <xref:System.Workflow.Runtime.WorkflowRuntime.RemoveService%2A>.</span></span> <span data-ttu-id="eb0e0-178">L'implementazione predefinita di <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> rileva se il servizio è stato avviato e utilizza queste informazioni per generare l'eccezione adatta se il servizio viene arrestato prima di essere avviato.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-178">The default implementation of <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> tracks whether the service has been started and uses this information to throw the appropriate exception if the service is stopped before it is started.</span></span>  
  
 <span data-ttu-id="eb0e0-179">Per fare in modo che il servizio venga arrestato dal motore di runtime del flusso di lavoro, è possibile fornire le funzionalità aggiuntive eseguendo l'override di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-179">You can provide additional functionality necessary to have your service stopped by the workflow runtime engine by overriding this method.</span></span> <span data-ttu-id="eb0e0-180">Non è possibile garantire quale servizio, se disponibile, venga arrestato o eseguito quando <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> viene chiamato sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-180">There is no guarantee about which, if any, services will be stopped or running when <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> is called on your service.</span></span> <span data-ttu-id="eb0e0-181">Il motore di runtime del flusso di lavoro genera l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> dopo aver chiamato il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> di tutti i relativi servizi.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-181">The workflow runtime engine raises the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> event after it has called the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method of all of its workflow runtime engine services.</span></span> <span data-ttu-id="eb0e0-182">Per supportare altri servizi fino a quando il motore di runtime del flusso di lavoro avrà richiamato i metodi Stop di tutti i servizi del motore di runtime del flusso di lavoro, è possibile che il servizio debba mantenere alcune funzionalità residue.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-182">Your service may need to retain some residual functionality to support other services until all the workflow runtime engine services have had their stop methods invoked by the workflow runtime engine.</span></span> <span data-ttu-id="eb0e0-183">Se il servizio deve mantenere tali funzionalità, è possibile eseguire l'override del metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> per eseguire l'azione aggiuntiva richiesta per completare l'arresto del servizio quando viene generato l'evento <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-183">If your service must retain such functionality, you can override the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> method to perform any additional action required to finish stopping your service when the <xref:System.Workflow.Runtime.WorkflowRuntime.Stopped?displayProperty=nameWithType> event is raised.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eb0e0-184">Se <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> viene rimosso dal motore di runtime del flusso di lavoro mediante una chiamata a <xref:System.Workflow.Runtime.WorkflowRuntime.RemoveService%2A> mentre il motore di runtime del flusso di lavoro è in esecuzione, quest'ultimo chiamerà il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> sul servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-184">If your <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService> is removed from the workflow runtime engine by a call to <xref:System.Workflow.Runtime.WorkflowRuntime.RemoveService%2A> while the workflow runtime engine is running, the workflow runtime engine will call <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> on your service.</span></span> <span data-ttu-id="eb0e0-185">In questa situazione, il metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> non verrà tuttavia chiamato per il servizio.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-185">However, in this situation, the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> method will not be called for your service.</span></span> <span data-ttu-id="eb0e0-186">Di conseguenza, è possibile che il servizio debba eseguire qualsiasi funzionalità di chiusura aggiuntiva che normalmente eseguirebbe in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> dal metodo <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A>.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-186">Therefore, your service may have to perform any additional shutdown functionality that it would ordinarily perform in <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped%2A> from inside the <xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> method.</span></span> <span data-ttu-id="eb0e0-187">È possibile testare <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> per determinare se il motore di runtime del flusso di lavoro è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-187">You can test <xref:System.Workflow.Runtime.WorkflowRuntime.IsStarted%2A> to determine whether the workflow runtime engine is running.</span></span>  
  
 <span data-ttu-id="eb0e0-188"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> deve essere chiamato solo dal motore di runtime del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eb0e0-188"><xref:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop%2A> should only be called by the workflow runtime engine.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="eb0e0-189">
            <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime" /> è un riferimento null (<see langword="Nothing" /> in Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-189">
              <see cref="P:System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          </span>
          <span data-ttu-id="eb0e0-190">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-190">-or-</span>
          </span>
          <span data-ttu-id="eb0e0-191">Il servizio non è ancora stato avviato.</span>
          <span class="sxs-lookup">
            <span data-stu-id="eb0e0-191">The service has not yet been started.</span>
          </span>
        </exception>
      </Docs>
    </Member>
  </Members>
</Type>