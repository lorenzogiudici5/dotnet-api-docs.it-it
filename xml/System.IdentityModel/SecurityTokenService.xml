<Type Name="SecurityTokenService" FullName="System.IdentityModel.SecurityTokenService">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="3072d0bfe35d86653ef23ec20b08a5f210b357ba" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30420355" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class SecurityTokenService" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit SecurityTokenService extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.SecurityTokenService" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class SecurityTokenService" />
  <TypeSignature Language="C++ CLI" Value="public ref class SecurityTokenService abstract" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="0b02d-101">La classe di base astratta che definisce le proprietà e i metodi del servizio token di sicurezza (STS).</span>
      <span class="sxs-lookup">
        <span data-stu-id="0b02d-101">The abstract base class that defines the properties and methods of a security token service (STS).</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-102">Per creare un servizio token di sicurezza è necessario derivare la <xref:System.IdentityModel.SecurityTokenService> classe.</span><span class="sxs-lookup"><span data-stu-id="0b02d-102">To create an STS you must derive from the <xref:System.IdentityModel.SecurityTokenService> class.</span></span> <span data-ttu-id="0b02d-103">Nella classe personalizzata è necessario, come minimo, eseguire l'override di <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> e <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> metodi.</span><span class="sxs-lookup"><span data-stu-id="0b02d-103">In your custom class you must, at a minimum, override the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> and <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> methods.</span></span> <span data-ttu-id="0b02d-104">Con questi override, il servizio token di sicurezza creato con l'implementazione predefinita di tutti i metodi definiti nella classe è in grado di rilasciare token di sicurezza in risposta alla sicurezza le richieste di token (RST).</span><span class="sxs-lookup"><span data-stu-id="0b02d-104">With these overrides, the STS created using the default implementation of all the other methods defined in the class is capable of issuing security tokens in response to security token requests (RST).</span></span> <span data-ttu-id="0b02d-105">Vale a dire, viene implementata l'associazione di problema definita nella specifica WS-Trust.</span><span class="sxs-lookup"><span data-stu-id="0b02d-105">That is, the Issue binding defined in the WS-Trust specification is implemented.</span></span> <span data-ttu-id="0b02d-106">Questa associazione viene implementata nella <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-106">This binding is implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="0b02d-107">Nessuna delle altre WS-Trust associazioni (rinnovo, Annulla e convalida) vengono implementata nel caso predefinito e un errore appropriato viene restituito al chiamante se viene rilevata una richiesta RST che corrisponde a una di queste associazioni.</span><span class="sxs-lookup"><span data-stu-id="0b02d-107">None of the other WS-Trust bindings (Renew, Cancel, and Validate) are implemented in the default case and an appropriate fault is returned to the caller if an RST that corresponds to one of these bindings is encountered.</span></span> <span data-ttu-id="0b02d-108">È possibile, ovviamente, sostituire i metodi appropriati (<xref:System.IdentityModel.SecurityTokenService.Renew%2A>, <xref:System.IdentityModel.SecurityTokenService.Cancel%2A>, e <xref:System.IdentityModel.SecurityTokenService.Validate%2A>) per implementare queste associazioni in servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-108">You can, of course, override the appropriate methods (<xref:System.IdentityModel.SecurityTokenService.Renew%2A>, <xref:System.IdentityModel.SecurityTokenService.Cancel%2A>, and <xref:System.IdentityModel.SecurityTokenService.Validate%2A>) to implement these bindings in your STS.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="0b02d-109">Implementazione di un servizio token di sicurezza in ambienti di produzione implica un'attenta pianificazione e quantità notevole di risorse per ridurre i potenziali rischi di sicurezza inerenti l'esposizione di tale servizio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-109">Implementing a production-ready STS entails careful planning and considerable resources to mitigate the potential security risks inherent in exposing such a service.</span></span> <span data-ttu-id="0b02d-110">La maggior parte degli sviluppatori che usano Windows Identity Foundation (WIF) verranno lo sviluppo di applicazioni che forniscono una gestione delle identità per un servizio token di sicurezza, invece di essere sviluppo un servizio token di sicurezza di se stesso.</span><span class="sxs-lookup"><span data-stu-id="0b02d-110">Most developers using Windows Identity Foundation (WIF) will be developing applications that outsource identity management to an STS, rather than developing an STS itself.</span></span> <span data-ttu-id="0b02d-111">WIF offre un'estensione di Visual Studio, l'identità e Access Tool for Visual Studio 2012, per consentire agli sviluppatori di soluzioni di test nell'ambiente di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-111">WIF provides a Visual Studio extension, the Identity and Access Tool for Visual Studio 2012, to help developers test solutions in the development environment.</span></span> <span data-ttu-id="0b02d-112">Questo strumento è incluso un servizio token di sicurezza, `LocalSTS`, che è possibile configurare per servire le attestazioni specifiche per l'applicazione che si sta sviluppando.</span><span class="sxs-lookup"><span data-stu-id="0b02d-112">This tool includes an STS, `LocalSTS`, that you can configure to serve specific claims to the application that you are developing.</span></span> <span data-ttu-id="0b02d-113">Per ulteriori informazioni sullo strumento di identità e accessi, vedere [Identity and Access Tool per Visual Studio 2012](~/docs/framework/security/identity-and-access-tool-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="0b02d-113">For more information about the Identity and Access tool, see [Identity and Access Tool for Visual Studio 2012](~/docs/framework/security/identity-and-access-tool-for-vs.md).</span></span> <span data-ttu-id="0b02d-114">In alcuni scenari, `LocalSTS` potrebbe non fornire la funzionalità necessaria per testare in modo adeguato l'applicazione; ad esempio, in uno scenario che prevede lo sviluppo di un gestore di token personalizzato per l'uso da un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-114">In some scenarios, `LocalSTS` may not provide the functionality necessary to adequately test your application; for example, in a scenario that involves developing a custom token handler for use by an application.</span></span> <span data-ttu-id="0b02d-115">In questi casi, è possibile derivare da <xref:System.IdentityModel.SecurityTokenService> per creare uno o più semplice servizi token di sicurezza che possono essere distribuiti nell'ambiente di sviluppo e che può essere utilizzato per verificare le funzionalità ad nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-115">In these cases, you can derive from <xref:System.IdentityModel.SecurityTokenService> to create one or more simple STSs that can be deployed in your development environment and that can be used to test such features in your application.</span></span> <span data-ttu-id="0b02d-116">Il resto di questa sezione è incentrata sui metodi esposti dalla <xref:System.IdentityModel.SecurityTokenService> classe che consentono di implementare un semplice servizio token di sicurezza ed estendere la pipeline di rilascio dei token.</span><span class="sxs-lookup"><span data-stu-id="0b02d-116">The rest of this section focuses on the methods exposed by the <xref:System.IdentityModel.SecurityTokenService> class that enable you to implement a simple STS and extend the token issuance pipeline.</span></span>  
  
 <span data-ttu-id="0b02d-117">Nell'elenco seguente fornisce una breve panoramica dei metodi di primaria importanza per gli sviluppatori per l'utilizzo in un ambiente di sviluppo o test.</span><span class="sxs-lookup"><span data-stu-id="0b02d-117">The following list provides a brief overview of the methods of primary importance to the developer for use in a test or development environment.</span></span>  
  
-   <span data-ttu-id="0b02d-118">Metodo <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-118">The <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method.</span></span> <span data-ttu-id="0b02d-119">Questo metodo restituisce un <xref:System.IdentityModel.Scope> oggetto contenente informazioni sul componente.</span><span class="sxs-lookup"><span data-stu-id="0b02d-119">This method returns a <xref:System.IdentityModel.Scope> object that contains information about the RP.</span></span> <span data-ttu-id="0b02d-120">Questo oggetto viene utilizzato nel resto della pipeline di rilascio dei token e include informazioni relative alla firma e crittografia delle credenziali da utilizzare nella risposta, nonché il `AppliesTo` e `ReplyTo` (se richiesto) gli indirizzi.</span><span class="sxs-lookup"><span data-stu-id="0b02d-120">This object is used in the rest of the token issuance pipeline and includes information about the signing and encrypting credentials to use in the response, as well as the `AppliesTo` and `ReplyTo` (if required) addresses.</span></span> <span data-ttu-id="0b02d-121">È necessario eseguire l'override di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-121">You must override this method.</span></span>  
  
-   <span data-ttu-id="0b02d-122">Metodo <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-122">The <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method.</span></span> <span data-ttu-id="0b02d-123">Questo metodo restituisce un <xref:System.Security.Claims.ClaimsIdentity> oggetto che contiene le attestazioni da restituire al relying party.</span><span class="sxs-lookup"><span data-stu-id="0b02d-123">This method returns an <xref:System.Security.Claims.ClaimsIdentity> object that contains the claims to return to the RP.</span></span> <span data-ttu-id="0b02d-124">È necessario eseguire l'override di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-124">You must override this method.</span></span>  
  
-   <span data-ttu-id="0b02d-125">Metodo <xref:System.IdentityModel.SecurityTokenService.Issue%2A>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-125">The <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="0b02d-126">Questo metodo implementa la pipeline delle richieste di token, che elabora una richiesta token sicurezza in ingresso (RST) e restituisce una risposta (RSTR) al chiamante che contiene un token che può essere utilizzato per l'autenticazione con un componente.</span><span class="sxs-lookup"><span data-stu-id="0b02d-126">This method implements the token request pipeline, which processes an incoming security token request (RST) and returns a response (RSTR) to the caller that contains a token that can be used to authenticate with an RP.</span></span> <span data-ttu-id="0b02d-127">Molti degli altri metodi definiti nel <xref:System.IdentityModel.SecurityTokenService> classe vengono chiamati da questo metodo, inclusi il <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> e <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> metodi.</span><span class="sxs-lookup"><span data-stu-id="0b02d-127">Many of the other methods defined in the <xref:System.IdentityModel.SecurityTokenService> class are called from this method, including the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> and <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> methods.</span></span> <span data-ttu-id="0b02d-128">Non è necessario eseguire l'override di questo metodo, ma la comprensione della pipeline di richieste di token che implementa può risultare utile.</span><span class="sxs-lookup"><span data-stu-id="0b02d-128">You do not have to override this method, but an understanding of the token request pipeline it implements may be helpful.</span></span>  
  
 <span data-ttu-id="0b02d-129">Un servizio token di sicurezza viene configurato tramite la <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration> classe.</span><span class="sxs-lookup"><span data-stu-id="0b02d-129">An STS is configured through the <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0b02d-130">Gli esempi di codice che vengono utilizzati nel <xref:System.IdentityModel.SecurityTokenService> argomenti vengono prelevati i `Custom Token` esempio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-130">The code examples that are used in the <xref:System.IdentityModel.SecurityTokenService> topics are taken from the `Custom Token` sample.</span></span> <span data-ttu-id="0b02d-131">In questo esempio fornisce le classi personalizzate che consentono l'elaborazione del token SWT (Simple Web) e include un'implementazione di un servizio token di sicurezza passivo che è in grado di servire un token SWT.</span><span class="sxs-lookup"><span data-stu-id="0b02d-131">This sample provides custom classes that enable processing of Simple Web Tokens (SWT) and it includes an implementation of a passive STS that is capable of serving an SWT token.</span></span> <span data-ttu-id="0b02d-132">Per un esempio di come implementare un servizio token di sicurezza attivo, è possibile visualizzare il `Federation Metadata` esempio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-132">For an example of how to implement an active STS, you can see the `Federation Metadata` sample.</span></span> <span data-ttu-id="0b02d-133">Per informazioni su questi esempi e altri esempi disponibili per WIF e sulla posizione in cui eseguirne il download, vedere [indice degli esempi di codice WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="0b02d-133">For information about these samples and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span> <span data-ttu-id="0b02d-134">Il codice seguente viene illustrata l'implementazione di un servizio token di sicurezza passivo utilizzando la <xref:System.IdentityModel.SecurityTokenService> classe.</span><span class="sxs-lookup"><span data-stu-id="0b02d-134">The following code shows the implementation of a passive STS using the <xref:System.IdentityModel.SecurityTokenService> class.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#3)]  
  
 <span data-ttu-id="0b02d-135">Il codice seguente viene illustrato come richiamare un STS passive personalizzati per elaborare una richiesta WS-Federation chiamando il <xref:System.IdentityModel.Services.FederatedPassiveSecurityTokenServiceOperations.ProcessRequest%28System.Web.HttpRequest%2CSystem.Security.Claims.ClaimsPrincipal%2CSystem.IdentityModel.SecurityTokenService%2CSystem.Web.HttpResponse%29?displayProperty=nameWithType> metodo dal codice dietro il `default.aspx.cs` file.</span><span class="sxs-lookup"><span data-stu-id="0b02d-135">The following code shows how to invoke a custom passive STS to process a WS-Federation request by calling the <xref:System.IdentityModel.Services.FederatedPassiveSecurityTokenServiceOperations.ProcessRequest%28System.Web.HttpRequest%2CSystem.Security.Claims.ClaimsPrincipal%2CSystem.IdentityModel.SecurityTokenService%2CSystem.Web.HttpResponse%29?displayProperty=nameWithType> method from the code behind in the `default.aspx.cs` file.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/default.aspx.cs#1)]  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides">
      <para>
        <span data-ttu-id="0b02d-136">È necessario eseguire l'override di entrambi i <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> e <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" /> metodi.</span>
        <span class="sxs-lookup">
          <span data-stu-id="0b02d-136">You must override both the <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> and the <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" /> methods.</span>
        </span>
      </para>
    </block>
    <altmember cref="T:System.IdentityModel.Scope" />
    <altmember cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" />
    <altmember cref="T:System.IdentityModel.Services.FederatedPassiveSecurityTokenServiceOperations" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected SecurityTokenService (System.IdentityModel.Configuration.SecurityTokenServiceConfiguration securityTokenServiceConfiguration);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Configuration.SecurityTokenServiceConfiguration securityTokenServiceConfiguration) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.#ctor(System.IdentityModel.Configuration.SecurityTokenServiceConfiguration)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; SecurityTokenService(System::IdentityModel::Configuration::SecurityTokenServiceConfiguration ^ securityTokenServiceConfiguration);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="securityTokenServiceConfiguration" Type="System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" />
      </Parameters>
      <Docs>
        <param name="securityTokenServiceConfiguration">
          <span data-ttu-id="0b02d-137">Oggetto <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" /> che contiene le impostazioni per STS.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-137">A <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" /> that contains the settings for the STS.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-138">Chiamato dalle classi derivate per inizializzare la classe di <see cref="T:System.IdentityModel.SecurityTokenService" /> utilizzando le impostazioni di configurazione specificate.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-138">Called from derived classes to initialize the <see cref="T:System.IdentityModel.SecurityTokenService" /> class using the specified configuration settings.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-139">Utilizzare questo costruttore per inizializzare il provider di ambito e il certificato di autorità emittente del token.</span><span class="sxs-lookup"><span data-stu-id="0b02d-139">Use this constructor to initialize scope provider and token issuer certificate.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0b02d-140">
            <paramref name="securityTokenServiceConfiguration" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-140">
              <paramref name="securityTokenServiceConfiguration" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="BeginCancel">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginCancel (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginCancel(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginCancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginCancel (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginCancel(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-141">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-141">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-142">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-142">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-143">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-143">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="0b02d-144">Delegato <see cref="T:System.AsyncCallback" /> che riceve la notifica del completamento dell'operazione di annullamento asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-144">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous cancel operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="0b02d-145">Oggetto contenente le informazioni sullo stato associate all'operazione di annullamento asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-145">An object that contains state information associated with the asynchronous cancel operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-146">Una volta eseguito l'override in una classe derivata, avvia una richiesta di annullamento WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-146">When overridden in a derived class, begins an asynchronous WS-Trust Cancel request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-147">Interfaccia <see cref="T:System.IAsyncResult" /> che fa riferimento all'operazione di annullamento asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-147">The <see cref="T:System.IAsyncResult" /> that references the asynchronous cancel operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-148">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-148">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginGetOutputClaimsIdentity">
      <MemberSignature Language="C#" Value="protected virtual IAsyncResult BeginGetOutputClaimsIdentity (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IAsyncResult BeginGetOutputClaimsIdentity(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual IAsyncResult ^ BeginGetOutputClaimsIdentity(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-149">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-149">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-150">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-150">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-151">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-151">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="0b02d-152">Oggetto <see cref="T:System.IdentityModel.Scope" /> che contiene informazioni sul relying party associato alla richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-152">The <see cref="T:System.IdentityModel.Scope" /> that contains information about the relying party associated with the request.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="0b02d-153">Delegato <see cref="T:System.AsyncCallback" /> che riceve la notifica del completamento dell'operazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-153">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="0b02d-154">Oggetto contenente le informazioni sullo stato associate all'operazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-154">An object that contains state information associated with the asynchronous operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-155">Una volta sottoposto a override in una classe derivata, inizia la chiamata asincrona al metodo <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-155">When overridden in a derived class, begins an asynchronous call to the <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-156">L'interfaccia <see cref="T:System.IAsyncResult" /> che fa riferimento all' operazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-156">The <see cref="T:System.IAsyncResult" /> that references the asynchronous operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-157">L'implementazione predefinita di questo metodo genera un <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-157">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginGetScope">
      <MemberSignature Language="C#" Value="protected virtual IAsyncResult BeginGetScope (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IAsyncResult BeginGetScope(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function BeginGetScope (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual IAsyncResult ^ BeginGetScope(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-158">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-158">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-159">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-159">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-160">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-160">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="0b02d-161">Delegato <see cref="T:System.AsyncCallback" /> che riceve la notifica del completamento dell'operazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-161">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="0b02d-162">Oggetto contenente le informazioni sullo stato associate all'operazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-162">An object that contains state information associated with the asynchronous operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-163">Una volta sottoposto a override in una classe derivata, inizia la chiamata asincrona del metodo <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-163">When overridden in a derived class, begins an asynchronous call for the <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-164">Interfaccia <see cref="T:System.IAsyncResult" /> che fa riferimento all'operazione di annullamento asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-164">The <see cref="T:System.IAsyncResult" /> that references the asynchronous cancel operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-165">L'implementazione predefinita di questo metodo genera un <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-165">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginIssue">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginIssue (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginIssue(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginIssue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginIssue (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginIssue(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-166">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-166">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-167">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-167">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-168">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-168">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="0b02d-169">Delegato <see cref="T:System.AsyncCallback" /> che riceve la notifica del completamento dell'operazione di pubblicazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-169">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous issue operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="0b02d-170">Oggetto contenente le informazioni sullo stato associate all'operazione di problema asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-170">An object that contains state information associated with the asynchronous issue operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-171">Una volta eseguito l'override in una classe derivata, avvia una richiesta di problema WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-171">When overridden in a derived class, begins an asynchronous WS-Trust Issue request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-172">
            <see cref="T:System.IAsyncResult" /> che fa riferimento all'operazione di pubblicazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-172">The <see cref="T:System.IAsyncResult" /> that references the asynchronous issue operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-173">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-173">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginRenew">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginRenew (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginRenew(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginRenew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginRenew (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginRenew(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-174">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-174">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-175">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-175">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-176">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-176">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="0b02d-177">Delegato <see cref="T:System.AsyncCallback" /> che riceve la notifica del completamento dell'operazione di rinnovamento asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-177">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous renew operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="0b02d-178">Oggetto contenente le informazioni sullo stato associate all'operazione di rinnovo asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-178">An object that contains state information associated with the asynchronous renew operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-179">Una volta eseguito l'override in una classe derivata, avvia una richiesta di rinnovo WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-179">When overridden in a derived class, begins an asynchronous WS-Trust Renew request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-180">Interfaccia <see cref="T:System.IAsyncResult" /> che fa riferimento all'operazione di rinnovamento asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-180">The <see cref="T:System.IAsyncResult" /> that references the asynchronous renew operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-181">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-181">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginValidate">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginValidate (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginValidate(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginValidate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginValidate (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginValidate(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-182">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-182">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-183">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-183">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-184">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-184">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="0b02d-185">Delegato <see cref="T:System.AsyncCallback" /> che riceve la notifica del completamento dell'operazione di validazione asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-185">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous validate operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="0b02d-186">Oggetto contenente le informazioni sullo stato associate all'operazione di convalida asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-186">An object that contains state information associated with the asynchronous validate operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-187">Una volta eseguito l'override in una classe derivata, avvia una richiesta di convalida WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-187">When overridden in a derived class, begins an asynchronous WS-Trust Validate request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-188">
            <see cref="T:System.IAsyncResult" /> che fa riferimento all'operazione di convalida asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-188">The <see cref="T:System.IAsyncResult" /> that references the asynchronous validate operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-189">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-189">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Cancel">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Cancel (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Cancel(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Cancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Cancel (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Cancel(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-190">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-190">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-191">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-191">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-192">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-192">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-193">Una volta eseguito l'override in una classe derivata, elabora una richiesta di annullamento WS-Trust.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-193">When overridden in a derived class, processes a WS-Trust Cancel request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-194">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-194">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-195">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-195">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSecurityTokenDescriptor">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.SecurityTokenDescriptor CreateSecurityTokenDescriptor (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityTokenDescriptor CreateSecurityTokenDescriptor(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.CreateSecurityTokenDescriptor(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::SecurityTokenDescriptor ^ CreateSecurityTokenDescriptor(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityTokenDescriptor</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="0b02d-196">Richiesta di token in ingresso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-196">The incoming token request.</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="0b02d-197">Oggetto <see cref="P:System.IdentityModel.SecurityTokenService.Scope" /> restituito da <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-197">The <see cref="P:System.IdentityModel.SecurityTokenService.Scope" /> object returned from <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-198">Crea un'istanza di un oggetto <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-198">Creates an instance of a <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-199">Oggetto <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-199">The <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-200">Richiamato durante l'emissione di token dopo <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-200">Invoked during token issuance after <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0b02d-201">
            <paramref name="request" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-201">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0b02d-202">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-202">-or-</span>
          </span>
          <span data-ttu-id="0b02d-203">
            <paramref name="scope" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-203">
              <paramref name="scope" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="EndCancel">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndCancel (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndCancel(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndCancel(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndCancel (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndCancel(IAsyncResult ^ result);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="0b02d-204">Interfaccia <see cref="T:System.IAsyncResult" /> restituita da una chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginCancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-204">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginCancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-205">Una volta eseguito l'override in una classe derivata, completa la richiesta di annullamento WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-205">When overridden in a derived class, completes the asynchronous WS-Trust Cancel request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-206">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-206">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-207">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-207">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndGetOutputClaimsIdentity">
      <MemberSignature Language="C#" Value="protected virtual System.Security.Claims.ClaimsIdentity EndGetOutputClaimsIdentity (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Security.Claims.ClaimsIdentity EndGetOutputClaimsIdentity(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndGetOutputClaimsIdentity(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function EndGetOutputClaimsIdentity (result As IAsyncResult) As ClaimsIdentity" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Security::Claims::ClaimsIdentity ^ EndGetOutputClaimsIdentity(IAsyncResult ^ result);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Claims.ClaimsIdentity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="0b02d-208">Interfaccia <see cref="T:System.IAsyncResult" /> restituita da una chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-208">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-209">Una volta eseguito l'override in una classe derivata, complete la chiamata asincrona nel metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-209">When overridden in a derived class, completes the asynchronous call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-210">
            <see cref="T:System.Security.Claims.ClaimsIdentity" /> contenente la raccolta delle attestazioni che verranno inserite nel token di sicurezza emesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-210">A <see cref="T:System.Security.Claims.ClaimsIdentity" /> that contains the collection of claims that will be placed in the issued security token.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-211">L'implementazione predefinita di questo metodo genera un <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-211">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndGetScope">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Scope EndGetScope (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Scope EndGetScope(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndGetScope(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function EndGetScope (result As IAsyncResult) As Scope" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Scope ^ EndGetScope(IAsyncResult ^ result);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Scope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="0b02d-212">Interfaccia <see cref="T:System.IAsyncResult" /> restituita da una chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-212">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-213">Una volta eseguito l'override in una classe derivata, complete la chiamata asincrona nel metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-213">When overridden in a derived class, completes the asynchronous call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-214">
            <see cref="T:System.IdentityModel.Scope" /> che incapsula informazioni del componente associate alla richiesta (RST) specificata nella chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> .</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-214">A <see cref="T:System.IdentityModel.Scope" /> that encapsulates the relying party (RP) information associated with the request (RST) specified in the call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-215">L'implementazione predefinita di questo metodo genera un <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-215">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndIssue">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndIssue (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndIssue(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndIssue(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndIssue (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndIssue(IAsyncResult ^ result);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="0b02d-216">Interfaccia <see cref="T:System.IAsyncResult" /> restituita da una chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginIssue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-216">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginIssue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-217">Una volta eseguito l'override in una classe derivata, completa la richiesta di problema WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-217">When overridden in a derived class, completes the asynchronous WS-Trust Issue request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-218">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-218">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-219">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-219">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndRenew">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndRenew (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndRenew(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndRenew(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndRenew (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndRenew(IAsyncResult ^ result);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="0b02d-220">Interfaccia <see cref="T:System.IAsyncResult" /> restituita da una chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginRenew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-220">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginRenew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-221">Una volta eseguito l'override in una classe derivata, completa la richiesta di rinnovamento WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-221">When overridden in a derived class, completes the asynchronous WS-Trust Renew request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-222">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-222">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-223">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-223">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndValidate">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndValidate (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndValidate(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndValidate(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndValidate (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndValidate(IAsyncResult ^ result);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="0b02d-224">Interfaccia <see cref="T:System.IAsyncResult" /> restituita da una chiamata al metodo <see cref="M:System.IdentityModel.SecurityTokenService.BeginValidate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-224">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginValidate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-225">Una volta eseguito l'override in una classe derivata, completa la richiesta di convalida WS-Trust asincrona.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-225">When overridden in a derived class, completes the asynchronous WS-Trust Validate request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-226">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-226">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-227">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-227">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetIssuerName">
      <MemberSignature Language="C#" Value="protected virtual string GetIssuerName ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetIssuerName() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetIssuerName" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetIssuerName () As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetIssuerName();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="0b02d-228">Ottiene il nome del servizio token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-228">Gets the name of the security token service (STS).</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-229">Nome dell'autorità emittente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-229">The issuer name.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-230">Questo metodo viene chiamato dal valore predefinito della pipeline di rilascio dei token implementata nel <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-230">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 <span data-ttu-id="0b02d-231">L'implementazione predefinita restituisce il <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.TokenIssuerName%2A> proprietà dalla configurazione tramite il <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="0b02d-231">The default implementation returns the <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.TokenIssuerName%2A> property from configuration accessed through the <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetOutputClaimsIdentity">
      <MemberSignature Language="C#" Value="protected abstract System.Security.Claims.ClaimsIdentity GetOutputClaimsIdentity (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Security.Claims.ClaimsIdentity GetOutputClaimsIdentity(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract System::Security::Claims::ClaimsIdentity ^ GetOutputClaimsIdentity(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Claims.ClaimsIdentity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-232">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-232">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-233">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-233">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-234">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-234">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="0b02d-235">Oggetto <see cref="T:System.IdentityModel.Scope" /> che contiene informazioni sul relying party associato alla richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-235">The <see cref="T:System.IdentityModel.Scope" /> that contains information about the relying party associated with the request.</span>
          </span>
          <span data-ttu-id="0b02d-236">Si tratta dell'oggetto <see cref="T:System.IdentityModel.Scope" /> restituito dal metodo <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-236">This is the <see cref="T:System.IdentityModel.Scope" /> object that was returned by the <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-237">Una volta eseguito l'override in una classe derivata, questo metodo restituisce una raccolta di oggetti di output da includere nel token emesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-237">When overridden in a derived class, this method returns a collection of output subjects to be included in the issued token.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-238">
            <see cref="T:System.Security.Claims.ClaimsIdentity" /> contenente la raccolta delle attestazioni che verranno inserite nel token di sicurezza emesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-238">A <see cref="T:System.Security.Claims.ClaimsIdentity" /> that contains the collection of claims that will be placed in the issued security token.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-239">Il <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> metodo viene chiamato dalla pipeline di rilascio dei token, viene implementata dal <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-239">The <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method is called from the token issuance pipeline, which is implemented by the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="0b02d-240">Restituisce un <xref:System.Security.Claims.ClaimsIdentity> che contiene le attestazioni da includere nel token di sicurezza emesso in base al richiedente del token (il `principal` parametro), RST in ingresso (il `request` parametro), e la relying party per la quale il token è destinato ( il `scope` parametro).</span><span class="sxs-lookup"><span data-stu-id="0b02d-240">It returns an <xref:System.Security.Claims.ClaimsIdentity> that contains the claims to include in the issued security token based on the requestor of the token (the `principal` parameter), the incoming RST (the `request` parameter), and the relying party for which the token is intended (the `scope` parameter).</span></span> <span data-ttu-id="0b02d-241">La logica di questo metodo è interessata principalmente a rispondere alle domande seguenti:</span><span class="sxs-lookup"><span data-stu-id="0b02d-241">The logic in this method is primarily concerned with answering the following questions:</span></span>  
  
-   <span data-ttu-id="0b02d-242">**I tipi di attestazione che devono essere inclusi nella risposta in base al relying Party a cui è destinato?**</span><span class="sxs-lookup"><span data-stu-id="0b02d-242">**Which claim types should be included in the response based on the RP for which it is intended?**</span></span> <span data-ttu-id="0b02d-243">In genere ciò viene definito in una base per ogni componente dagli elenchi di tipi di attestazione necessari per ogni relying Party o in base a una richiesta esaminando il <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.Claims%2A> proprietà della richiesta.</span><span class="sxs-lookup"><span data-stu-id="0b02d-243">Typically this is decided on a per-RP basis from lists of claim types required for each RP or on a per-request basis by examining the <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.Claims%2A> property of the request.</span></span> <span data-ttu-id="0b02d-244">Tuttavia, la logica e i dettagli per determinare le attestazioni da includere nella risposta spetta completamente l'implementazione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-244">However, the logic and details for determining the claims to include in the response is completely up to your implementation.</span></span>  
  
-   <span data-ttu-id="0b02d-245">**I valori di attestazione che devono essere assegnato per le attestazioni nella risposta?**</span><span class="sxs-lookup"><span data-stu-id="0b02d-245">**Which claim values should be assigned to the claims in the response?**</span></span> <span data-ttu-id="0b02d-246">Per un Provider di identità (IP-STS), ciò significa in genere utilizzando una o più attestazioni del richiedente <xref:System.Security.Claims.ClaimsPrincipal> (fornito dal `principal` parametro) per accedere a un archivio (o altra entità) per restituire i valori per i tipi di attestazione obbligatori.</span><span class="sxs-lookup"><span data-stu-id="0b02d-246">For an Identity Provider (IP-STS) this typically means using one or more claims in the requestor’s <xref:System.Security.Claims.ClaimsPrincipal> (provided by the `principal` parameter) to access a store (or other entity) to return values for the required claim types.</span></span> <span data-ttu-id="0b02d-247">Per un Provider federativo (R-STS) questo in genere significa che l'esecuzione di un tipo di elaborazione sulle attestazioni in ingresso del richiedente di completare la richiesta; ad esempio per eseguire il filtro o trasformazione in alcune attestazioni presentate dal richiedente, durante il passaggio di altri utenti tramite non modificato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-247">For a Federation Provider (R-STS) this typically means performing some kind of processing on the requestor’s incoming claims to fulfill the request; perhaps performing filtering or transformation on some claims presented by the requestor, while passing others through unmodified.</span></span> <span data-ttu-id="0b02d-248">Naturalmente, come nel caso di decidere le attestazioni da includere nella risposta, i dettagli e la logica per determinare i valori di queste attestazioni è un massimo di implementazione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-248">Of course, as in the case of deciding which claims to include in the response, the details and logic of how to determine the values of these claims is up to your implementation.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0b02d-249">L'esempio di codice che viene utilizzato in questo argomento riguarda la `Custom Token` esempio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-249">The code example that is used in this topic is taken from the `Custom Token` sample.</span></span> <span data-ttu-id="0b02d-250">In questo esempio fornisce le classi personalizzate che consentono l'elaborazione del token SWT (Simple Web) e include un'implementazione di un servizio token di sicurezza passivo che è in grado di servire un token SWT.</span><span class="sxs-lookup"><span data-stu-id="0b02d-250">This sample provides custom classes that enable processing of Simple Web Tokens (SWT) and it includes an implementation of a passive STS that is capable of serving an SWT token.</span></span> <span data-ttu-id="0b02d-251">Per un esempio di come implementare un servizio token di sicurezza attivo, è possibile visualizzare il `Federation Metadata` esempio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-251">For an example of how to implement an active STS, you can see the `Federation Metadata` sample.</span></span> <span data-ttu-id="0b02d-252">Per informazioni su questi esempi e altri esempi disponibili per WIF e sulla posizione in cui eseguirne il download, vedere [indice degli esempi di codice WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="0b02d-252">For information about these samples and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span> <span data-ttu-id="0b02d-253">Nel codice seguente viene illustrato come eseguire l'override di <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> per restituire le attestazioni per il servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-253">The following code shows how to override the <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method to return claims for your STS.</span></span> <span data-ttu-id="0b02d-254">In questo esempio, il messaggio di richiesta di sicurezza Token RST () viene ignorato e viene restituita una raccolta di attestazioni in base a utente, come l'autenticazione nel servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-254">In this example, the Request Security Token (RST) message is ignored and a collection of claims based on the user as authenticated at the STS is returned.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#6](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#6)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides">
          <para>
            <span data-ttu-id="0b02d-255">È necessario eseguire l'override di questo metodo nell'implementazione della classe <see cref="T:System.IdentityModel.SecurityTokenService" />.</span>
            <span class="sxs-lookup">
              <span data-stu-id="0b02d-255">You must override this method in your implementation of the <see cref="T:System.IdentityModel.SecurityTokenService" /> class.</span>
            </span>
          </para>
        </block>
        <altmember cref="T:System.IdentityModel.Scope" />
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetProofToken">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.ProofDescriptor GetProofToken (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.ProofDescriptor GetProofToken(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetProofToken(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::ProofDescriptor ^ GetProofToken(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.ProofDescriptor</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="0b02d-256">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta token in entrata (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-256">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the incoming token request (RST).</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="0b02d-257">Istanza di <see cref="T:System.IdentityModel.Scope" /> che incapsula le informazioni sul relying party.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-257">The <see cref="T:System.IdentityModel.Scope" /> instance that encapsulates information about the relying party.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-258">Ottiene il token di prova da includere nella risposta (RSTR).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-258">Gets the proof token to be included in the response (RSTR).</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-259">Oggetto <see cref="T:System.IdentityModel.Tokens.ProofDescriptor" /> che rappresenta il descrittore di prova appena creato.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-259">A <see cref="T:System.IdentityModel.Tokens.ProofDescriptor" /> that represents the newly created proof descriptor.</span>
          </span>
          <span data-ttu-id="0b02d-260">Il descrittore di prova può essere asimmetrico, simmetrico o <see langword="null" /> nel caso dei token di trasporto.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-260">The proof descriptor can be an asymmetric proof descriptor, a symmetric proof descriptor, or <see langword="null" /> in the bearer token case.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-261">Questo metodo viene chiamato dal valore predefinito della pipeline di rilascio dei token implementata nel <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-261">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 <span data-ttu-id="0b02d-262">L'implementazione predefinita restituisce un descrittore di prova o genera un'eccezione appropriata.</span><span class="sxs-lookup"><span data-stu-id="0b02d-262">The default implementation returns a proof descriptor or throws an appropriate exception.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0b02d-263">
            <paramref name="request" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-263">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0b02d-264">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-264">-or-</span>
          </span>
          <span data-ttu-id="0b02d-265">
            <paramref name="scope" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-265">
              <paramref name="scope" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetRequestorProofEncryptingCredentials">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.EncryptingCredentials GetRequestorProofEncryptingCredentials (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.EncryptingCredentials GetRequestorProofEncryptingCredentials(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetRequestorProofEncryptingCredentials(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetRequestorProofEncryptingCredentials (request As RequestSecurityToken) As EncryptingCredentials" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::EncryptingCredentials ^ GetRequestorProofEncryptingCredentials(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.EncryptingCredentials</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="0b02d-266">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta token in entrata (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-266">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the incoming token request (RST).</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-267">Ottiene le credenziali di crittografia di prova del richiedente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-267">Gets the requestor's proof encrypting credentials.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-268">Oggetto <see cref="T:System.IdentityModel.Tokens.EncryptingCredentials" /> che rappresenta le credenziali di crittografia del richiedente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-268">An <see cref="T:System.IdentityModel.Tokens.EncryptingCredentials" /> object that represents the requestor’s encrypting credentials.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-269">Questo metodo viene chiamato dal <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-269">This method is called from the <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> method.</span></span>  
  
 <span data-ttu-id="0b02d-270">L'implementazione predefinita esegue le operazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="0b02d-270">The default implementation does the following.</span></span> <span data-ttu-id="0b02d-271">Restituisce `null` se non è disponibile alcun token di crittografia specificato nella richiesta (il <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.ProofEncryption%2A?displayProperty=nameWithType> proprietà `null`).</span><span class="sxs-lookup"><span data-stu-id="0b02d-271">Returns `null` if there is no encryption token specified in the request (the <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.ProofEncryption%2A?displayProperty=nameWithType> property is `null`).</span></span> <span data-ttu-id="0b02d-272">In caso contrario, se è possibile ottenere il token come un <xref:System.IdentityModel.Tokens.X509SecurityToken>, restituisce le credenziali in base a tale token.</span><span class="sxs-lookup"><span data-stu-id="0b02d-272">Otherwise, if it can get the token as an <xref:System.IdentityModel.Tokens.X509SecurityToken>, it returns credentials based on that token.</span></span> <span data-ttu-id="0b02d-273">Se non è possibile risolvere il token come un <xref:System.IdentityModel.Tokens.X509SecurityToken>, <xref:System.IdentityModel.RequestFailedException> viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-273">If it cannot resolve the token as an <xref:System.IdentityModel.Tokens.X509SecurityToken>, a <xref:System.IdentityModel.RequestFailedException> is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0b02d-274">
            <paramref name="request" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-274">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetResponse">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse GetResponse (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Tokens.SecurityTokenDescriptor tokenDescriptor);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse GetResponse(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Tokens.SecurityTokenDescriptor tokenDescriptor) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetResponse(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Tokens.SecurityTokenDescriptor)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetResponse (request As RequestSecurityToken, tokenDescriptor As SecurityTokenDescriptor) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ GetResponse(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Tokens::SecurityTokenDescriptor ^ tokenDescriptor);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="tokenDescriptor" Type="System.IdentityModel.Tokens.SecurityTokenDescriptor" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="0b02d-275">RST che contiene la richiesta del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-275">The RST that contains the token request.</span>
          </span>
        </param>
        <param name="tokenDescriptor">
          <span data-ttu-id="0b02d-276">Descrittore del token che contiene le informazioni da utilizzare per il token emesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-276">The token descriptor that contains the information to use for the issued token.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-277">Crea la risposta (RSTR) che contiene il token rilasciato utilizzando il descrittore specificato della richiesta (RST) e del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-277">Creates the response (RSTR) that contains the issued token by using the specified request (RST) and security token descriptor.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-278">Risposta (RSTR) o <see langword="null" /> se non è possibile creare una risposta dal descrittore di token e di richiesta specificato.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-278">The response (RSTR) or <see langword="null" /> if a response cannot be created from the specified request and token descriptor.</span>
          </span>
          <span data-ttu-id="0b02d-279">L'implementazione predefinita restituisce <see langword="null" /> se il parametro <paramref name="tokenDescriptor" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-279">The default implementation returns <see langword="null" /> if the <paramref name="tokenDescriptor" /> parameter is <see langword="null" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-280">Il <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> metodo viene chiamato come ultimo passaggio dalla pipeline di rilascio dei token, viene implementata dal <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-280">The <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> method is called as the last step from the token issuance pipeline, which is implemented by the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="0b02d-281">Crea e restituisce la risposta (RSTR) utilizzando la richiesta in ingresso originale (RST) e il descrittore di token che sia stato generato da durante i passaggi precedenti nella pipeline di rilascio dei token.</span><span class="sxs-lookup"><span data-stu-id="0b02d-281">It creates and returns the response (RSTR) by using the original incoming request (RST) and the token descriptor that was built up during previous steps in the token issuance pipeline.</span></span>  
  
 <span data-ttu-id="0b02d-282">L'implementazione predefinita crea l'elemento RSTR passando RST specificata nel parametro di richiesta per il <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse.%23ctor%28System.IdentityModel.Protocols.WSTrust.WSTrustMessage%29?displayProperty=nameWithType> costruttore, richiamare il <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.ApplyTo%2A?displayProperty=nameWithType> il descrittore del token di metodo passato <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> per applicare le relative proprietà per l'appena creato RSTR, l'impostazione di <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.AppliesTo%2A> proprietà l'elemento RSTR utilizzando il <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A> proprietà descrittore del token e infine l'impostazione la <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> proprietà l'elemento RSTR in base alla tabella seguente:</span><span class="sxs-lookup"><span data-stu-id="0b02d-282">The default implementation creates the RSTR by passing the RST specified in the request parameter to the <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse.%23ctor%28System.IdentityModel.Protocols.WSTrust.WSTrustMessage%29?displayProperty=nameWithType> constructor, invoking the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.ApplyTo%2A?displayProperty=nameWithType> method on the token descriptor passed into <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> to apply its properties to the newly created RSTR, setting the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.AppliesTo%2A> property on the RSTR by using the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A> property on the token descriptor, and finally setting the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> property on the RSTR according to the following table:</span></span>  
  
|<span data-ttu-id="0b02d-283">Proprietà `RST.ReplyTo`</span><span class="sxs-lookup"><span data-stu-id="0b02d-283">`RST.ReplyTo` property</span></span>|<span data-ttu-id="0b02d-284">Proprietà <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-284"><xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A?displayProperty=nameWithType> property.</span></span>|<span data-ttu-id="0b02d-285">Proprietà `RSTR.ReplyTo`</span><span class="sxs-lookup"><span data-stu-id="0b02d-285">`RSTR.ReplyTo` property</span></span>|  
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|  
|<span data-ttu-id="0b02d-286">Imposta</span><span class="sxs-lookup"><span data-stu-id="0b02d-286">Set</span></span>|<span data-ttu-id="0b02d-287">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-287">Not Set</span></span>|<span data-ttu-id="0b02d-288">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-288">Not Set</span></span>|  
|<span data-ttu-id="0b02d-289">Imposta</span><span class="sxs-lookup"><span data-stu-id="0b02d-289">Set</span></span>|<span data-ttu-id="0b02d-290">Imposta</span><span class="sxs-lookup"><span data-stu-id="0b02d-290">Set</span></span>|<xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="0b02d-291">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-291">Not Set</span></span>|<span data-ttu-id="0b02d-292">Imposta</span><span class="sxs-lookup"><span data-stu-id="0b02d-292">Set</span></span>|<span data-ttu-id="0b02d-293">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-293">Not Set</span></span>|  
|<span data-ttu-id="0b02d-294">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-294">Not Set</span></span>|<span data-ttu-id="0b02d-295">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-295">Not Set</span></span>|<span data-ttu-id="0b02d-296">Non impostato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-296">Not Set</span></span>|  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetScope">
      <MemberSignature Language="C#" Value="protected abstract System.IdentityModel.Scope GetScope (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Scope GetScope(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Function GetScope (principal As ClaimsPrincipal, request As RequestSecurityToken) As Scope" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract System::IdentityModel::Scope ^ GetScope(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Scope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-297">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta il client che esegue la richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-297">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the client making the request.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-298">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta in entrata (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-298">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the incoming request (RST).</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-299">Ottiene un oggetto <see cref="T:System.IdentityModel.Scope" /> contenente informazioni sul relying party (RP) associato alla richiesta specificata (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-299">Gets a <see cref="T:System.IdentityModel.Scope" /> object that contains information about the relying party (RP) associated with the specified request (RST).</span>
          </span>
          <span data-ttu-id="0b02d-300">È necessario eseguire l'override di questo metodo nell'implementazione della classe <see cref="T:System.IdentityModel.SecurityTokenService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-300">You must override this method in your implementation of the <see cref="T:System.IdentityModel.SecurityTokenService" /> class.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-301">
            <see cref="T:System.IdentityModel.Scope" /> che incapsula le informazioni del componente associate alla richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-301">A <see cref="T:System.IdentityModel.Scope" /> that encapsulates the RP information associated with the request.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-302">Il <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> metodo viene chiamato dalla pipeline di rilascio dei token dopo il <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> metodo e deve restituire un <xref:System.IdentityModel.Scope> oggetto configurato per la richiesta in ingresso.</span><span class="sxs-lookup"><span data-stu-id="0b02d-302">The <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method is called from the token issuance pipeline after the <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method and should return a <xref:System.IdentityModel.Scope> object configured for the incoming request.</span></span> <span data-ttu-id="0b02d-303">(La pipeline di rilascio dei token è implementata nel <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.) Il <xref:System.IdentityModel.Scope> oggetto incapsula le informazioni relative al relying Party associato alla richiesta di token di sicurezza (RST).</span><span class="sxs-lookup"><span data-stu-id="0b02d-303">(The token issuance pipeline is implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.) The <xref:System.IdentityModel.Scope> object encapsulates information about the RP associated with the security token request (RST).</span></span> <span data-ttu-id="0b02d-304">Questo include informazioni sulle credenziali di firma e crittografia da utilizzare con il componente e di crittografare qualsiasi token rilasciati e/o le chiavi simmetriche nella risposta o meno.</span><span class="sxs-lookup"><span data-stu-id="0b02d-304">This includes information about the encrypting and signing credentials to be used with the RP and whether or not to encrypt any issued tokens and/or symmetric keys in the response.</span></span> <span data-ttu-id="0b02d-305">Alcune attività tipiche eseguite nel <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> metodo sono:</span><span class="sxs-lookup"><span data-stu-id="0b02d-305">Some typical tasks performed in the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method are:</span></span>  
  
-   <span data-ttu-id="0b02d-306">Determinare se il relying Party a cui è destinato il token è un componente riconosciuto.</span><span class="sxs-lookup"><span data-stu-id="0b02d-306">Determine whether the RP for which the token is intended is a recognized RP.</span></span> <span data-ttu-id="0b02d-307">Come eseguire questa operazione dipende dall'implementazione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-307">How this is accomplished depends on your implementation.</span></span> <span data-ttu-id="0b02d-308">Se il relying Party desiderato non è un componente valido per questo servizio token di sicurezza, quindi il metodo deve generare un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-308">If the intended RP is not a valid RP for this STS, then the method should throw an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
-   <span data-ttu-id="0b02d-309">Determinare delle credenziali di firma per essere utilizzato nella risposta (RSTR) e impostare il <xref:System.IdentityModel.Scope.SigningCredentials%2A> proprietà conseguenza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-309">Determine the signing credentials to be used in the response (RSTR) and set the <xref:System.IdentityModel.Scope.SigningCredentials%2A> property accordingly.</span></span>  
  
-   <span data-ttu-id="0b02d-310">Determinare se la risposta e/o le chiavi simmetriche incluse devono essere crittografate e le credenziali da utilizzare per la crittografia.</span><span class="sxs-lookup"><span data-stu-id="0b02d-310">Determine whether the response and/or any included symmetrical keys should be encrypted and the credentials to be used for encryption.</span></span> <span data-ttu-id="0b02d-311">Impostare il <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A>, <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A>, e <xref:System.IdentityModel.Scope.EncryptingCredentials%2A> le proprietà di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-311">Set the <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A>, <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A>, and <xref:System.IdentityModel.Scope.EncryptingCredentials%2A> properties accordingly.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="0b02d-312">Per impostazione predefinita, il <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A> e <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A> vengono impostate proprietà `true` per impedire che il servizio token di rilascio di token che non sono protette.</span><span class="sxs-lookup"><span data-stu-id="0b02d-312">By default, the <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A> and <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A> properties are set `true` to prevent the STS from issuing tokens that are not secure.</span></span> <span data-ttu-id="0b02d-313">È consigliabile non impostare queste proprietà `false` in un ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-313">It is recommended that these properties never be set to `false` in a production environment.</span></span>  
  
-   <span data-ttu-id="0b02d-314">Determinare l'indirizzo a cui deve essere restituita nella risposta.</span><span class="sxs-lookup"><span data-stu-id="0b02d-314">Determine the address to which the response should be returned.</span></span> <span data-ttu-id="0b02d-315">Impostare il <xref:System.IdentityModel.Scope.AppliesToAddress%2A> o <xref:System.IdentityModel.Scope.ReplyToAddress%2A> proprietà conseguenza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-315">Set either the <xref:System.IdentityModel.Scope.AppliesToAddress%2A> or <xref:System.IdentityModel.Scope.ReplyToAddress%2A> property accordingly.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="0b02d-316">L'esempio di codice che viene utilizzato in questo argomento riguarda la `Custom Token` esempio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-316">The code example that is used in this topic is taken from the `Custom Token` sample.</span></span> <span data-ttu-id="0b02d-317">In questo esempio fornisce le classi personalizzate che consentono l'elaborazione del token SWT (Simple Web) e include un'implementazione di un servizio token di sicurezza passivo che è in grado di servire un token SWT.</span><span class="sxs-lookup"><span data-stu-id="0b02d-317">This sample provides custom classes that enable processing of Simple Web Tokens (SWT) and it includes an implementation of a passive STS that is capable of serving an SWT token.</span></span> <span data-ttu-id="0b02d-318">Per un esempio di come implementare un servizio token di sicurezza attivo, è possibile visualizzare il `Federation Metadata` esempio.</span><span class="sxs-lookup"><span data-stu-id="0b02d-318">For an example of how to implement an active STS, you can see the `Federation Metadata` sample.</span></span> <span data-ttu-id="0b02d-319">Per informazioni su questi esempi e altri esempi disponibili per WIF e sulla posizione in cui eseguirne il download, vedere [indice degli esempi di codice WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="0b02d-319">For information about these samples and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
 <span data-ttu-id="0b02d-320">Nell'esempio di codice seguente viene illustrata un'implementazione del metodo <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-320">The following code example shows an implementation of the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method.</span></span> <span data-ttu-id="0b02d-321">Questa implementazione verifica che il componente venga riconosciuta dal servizio token di sicurezza, convalida il <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> indirizzo in cui la richiesta e imposta il <xref:System.IdentityModel.Scope.ReplyToAddress%2A?displayProperty=nameWithType> proprietà di conseguenza, e i certificati set in base alla firma e crittografia delle credenziali da utilizzare con il relying Party che sono hardcoded nel file.</span><span class="sxs-lookup"><span data-stu-id="0b02d-321">This implementation verifies that the RP is recognized by the STS, validates the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> address in the request and sets the <xref:System.IdentityModel.Scope.ReplyToAddress%2A?displayProperty=nameWithType> property accordingly, and sets the signing and encrypting credentials to use with the RP based on certificates that are hard-coded in the file.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#4)]  
[!code-csharp[WIFCustomTokenSTS#5](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#5)]  
[!code-csharp[WIFCustomTokenSTS#7](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#7)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides">
          <para>
            <span data-ttu-id="0b02d-322">È necessario eseguire l'override di questo metodo nell'implementazione della classe <see cref="T:System.IdentityModel.SecurityTokenService" />.</span>
            <span class="sxs-lookup">
              <span data-stu-id="0b02d-322">You must override this method in your implementation of the <see cref="T:System.IdentityModel.SecurityTokenService" /> class.</span>
            </span>
          </para>
        </block>
        <altmember cref="T:System.IdentityModel.Scope" />
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetSecurityTokenHandler">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.SecurityTokenHandler GetSecurityTokenHandler (string requestedTokenType);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityTokenHandler GetSecurityTokenHandler(string requestedTokenType) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetSecurityTokenHandler(System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetSecurityTokenHandler (requestedTokenType As String) As SecurityTokenHandler" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::SecurityTokenHandler ^ GetSecurityTokenHandler(System::String ^ requestedTokenType);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityTokenHandler</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="requestedTokenType" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="requestedTokenType">
          <span data-ttu-id="0b02d-323">Stringa che contiene l'URI del tipo del token di richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-323">A string that contains the requested token type URI.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-324">Ottiene il gestore di token di sicurezza appropriato per l'emissione di un token di sicurezza per il tipo specificato.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-324">Gets the appropriate security token handler for issuing a security token of the specified type.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-325">
            <see cref="T:System.IdentityModel.Tokens.SecurityTokenHandler" /> che rappresenta il gestore di token da utilizzare per creare il token di sicurezza emesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-325">A <see cref="T:System.IdentityModel.Tokens.SecurityTokenHandler" /> that represents the token handler to be used for creating the issued security token.</span>
          </span>
          <span data-ttu-id="0b02d-326">Restituisce <see langword="null" /> se il tipo di token richiesto non è supportato (nessun gestore configurato per il tipo di token specificato).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-326">Returns <see langword="null" /> if the requested token type is not supported (there is no handler configured for the specified token type).</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-327">Nell'implementazione predefinita se `requestedTokenType` è `null` o una stringa vuota, il valore predefinito viene utilizzato il tipo di token dalla configurazione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-327">In the default implementation if `requestedTokenType` is `null` or an empty string, the default token type from configuration is used.</span></span> <span data-ttu-id="0b02d-328">Questa impostazione è specificata la <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenType%2A> proprietà dell'oggetto di configurazione di servizio token di sicurezza tramita il <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="0b02d-328">This is specified by the <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenType%2A> property of the STS configuration object accessed through the <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> property.</span></span>  
  
 <span data-ttu-id="0b02d-329">Questo metodo viene chiamato dal valore predefinito della pipeline di rilascio dei token implementata nel <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-329">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetTokenLifetime">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Protocols.WSTrust.Lifetime GetTokenLifetime (System.IdentityModel.Protocols.WSTrust.Lifetime requestLifetime);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.Lifetime GetTokenLifetime(class System.IdentityModel.Protocols.WSTrust.Lifetime requestLifetime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetTokenLifetime(System.IdentityModel.Protocols.WSTrust.Lifetime)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetTokenLifetime (requestLifetime As Lifetime) As Lifetime" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Protocols::WSTrust::Lifetime ^ GetTokenLifetime(System::IdentityModel::Protocols::WSTrust::Lifetime ^ requestLifetime);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.Lifetime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="requestLifetime" Type="System.IdentityModel.Protocols.WSTrust.Lifetime" />
      </Parameters>
      <Docs>
        <param name="requestLifetime">
          <span data-ttu-id="0b02d-330">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" /> che rappresenta la durata richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-330">A <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" /> that represents the requested lifetime.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-331">Ottiene la durata per il token emesso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-331">Gets the lifetime for the issued token.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-332">
            <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" /> che rappresenta la durata concessa.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-332">A <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" /> that represents the granted lifetime.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-333">Questo metodo viene chiamato in genere con la durata che si trova in RST.</span><span class="sxs-lookup"><span data-stu-id="0b02d-333">This method is normally called with the lifetime that arrived in the RST.</span></span> <span data-ttu-id="0b02d-334">Nell'implementazione predefinita, la durata del token viene calcolata in base alla tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="0b02d-334">In the default implementation, the token lifetime is calculated according to the following table.</span></span>  
  
|<span data-ttu-id="0b02d-335">Create (in)</span><span class="sxs-lookup"><span data-stu-id="0b02d-335">Created (in)</span></span>|<span data-ttu-id="0b02d-336">Scadenza (in)</span><span class="sxs-lookup"><span data-stu-id="0b02d-336">Expires (in)</span></span>|<span data-ttu-id="0b02d-337">Create (in)</span><span class="sxs-lookup"><span data-stu-id="0b02d-337">Created (in)</span></span>|<span data-ttu-id="0b02d-338">Scadenza (out)</span><span class="sxs-lookup"><span data-stu-id="0b02d-338">Expires (out)</span></span>|  
|--------------------|--------------------|--------------------|---------------------|  
|`null`|`null`|<xref:System.DateTime.UtcNow%2A?displayProperty=nameWithType>|<xref:System.DateTime.UtcNow%2A?displayProperty=nameWithType> + <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenLifetime%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="0b02d-339">C</span><span class="sxs-lookup"><span data-stu-id="0b02d-339">C</span></span>|`null`|<span data-ttu-id="0b02d-340">C</span><span class="sxs-lookup"><span data-stu-id="0b02d-340">C</span></span>|<span data-ttu-id="0b02d-341">C + <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenLifetime%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="0b02d-341">C + <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenLifetime%2A?displayProperty=nameWithType></span></span>|  
|`null`|<span data-ttu-id="0b02d-342">E</span><span class="sxs-lookup"><span data-stu-id="0b02d-342">E</span></span>|<xref:System.DateTime.UtcNow%2A?displayProperty=nameWithType>|<span data-ttu-id="0b02d-343">E</span><span class="sxs-lookup"><span data-stu-id="0b02d-343">E</span></span>|  
|<span data-ttu-id="0b02d-344">C</span><span class="sxs-lookup"><span data-stu-id="0b02d-344">C</span></span>|<span data-ttu-id="0b02d-345">E</span><span class="sxs-lookup"><span data-stu-id="0b02d-345">E</span></span>|<span data-ttu-id="0b02d-346">C</span><span class="sxs-lookup"><span data-stu-id="0b02d-346">C</span></span>|<span data-ttu-id="0b02d-347">E</span><span class="sxs-lookup"><span data-stu-id="0b02d-347">E</span></span>|  
  
 <span data-ttu-id="0b02d-348">Questo metodo viene chiamato dal valore predefinito della pipeline di rilascio dei token implementata nel <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-348">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="Issue">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Issue (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Issue(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Issue (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Issue(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-349">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-349">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-350">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-350">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-351">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-351">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-352">Rilascia un token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-352">Issues a security token.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-353">
            <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> contenente il token di sicurezza generato.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-353">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that contains the issued security token.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-354">Questo metodo implementa l'associazione di problema definita nella specifica WS-Trust.</span><span class="sxs-lookup"><span data-stu-id="0b02d-354">This method implements the Issue binding defined in the WS-Trust specification.</span></span> <span data-ttu-id="0b02d-355">L'implementazione predefinita del <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo elabora la richiesta in ingresso (RST) tramite una pipeline di rilascio dei token (rilascio di attestazioni) e restituisce entrambi una risposta (RSTR) che contiene un token di sicurezza con le attestazioni appropriate per l'autenticazione di richiedente con il componente o un'eccezione appropriata.</span><span class="sxs-lookup"><span data-stu-id="0b02d-355">The default implementation of the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method processes the incoming request (RST) through a token issuance (claims issuance) pipeline and returns either a response (RSTR) that contains a security token with the appropriate claims to authenticate the requestor with the RP or an appropriate exception.</span></span> <span data-ttu-id="0b02d-356">La pipeline di rilascio dei token nell'implementazione predefinita è costituita da chiamate ai metodi seguenti (del <xref:System.IdentityModel.SecurityTokenService> classe).</span><span class="sxs-lookup"><span data-stu-id="0b02d-356">The token issuance pipeline in the default implementation consists of calls to the following methods (of the <xref:System.IdentityModel.SecurityTokenService> class).</span></span>  
  
1.  <span data-ttu-id="0b02d-357">Il <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> metodo di convalida della richiesta (RST).</span><span class="sxs-lookup"><span data-stu-id="0b02d-357">The <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method to validate the request (RST).</span></span>  
  
2.  <span data-ttu-id="0b02d-358">Il <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> metodo per ottenere un <xref:System.IdentityModel.Scope> oggetto che contiene informazioni sulla relying party (RP) associata alla richiesta.</span><span class="sxs-lookup"><span data-stu-id="0b02d-358">The <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method to get a <xref:System.IdentityModel.Scope> object that contains information about the relying party (RP) associated with the request.</span></span> <span data-ttu-id="0b02d-359">È necessario eseguire l'override di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-359">You must override this method.</span></span> <span data-ttu-id="0b02d-360">Se <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> restituisce `null`, <xref:System.InvalidOperationException> viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-360">If <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> returns `null`, a <xref:System.InvalidOperationException> is thrown.</span></span>  
  
3.  <span data-ttu-id="0b02d-361">Il <xref:System.IdentityModel.SecurityTokenService.CreateSecurityTokenDescriptor%2A> per restituire un descrittore di token di sicurezza in base alle RST e <xref:System.IdentityModel.Scope> oggetto restituito nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="0b02d-361">The <xref:System.IdentityModel.SecurityTokenService.CreateSecurityTokenDescriptor%2A> method to return a security token descriptor based on the RST and the <xref:System.IdentityModel.Scope> object returned in the previous step.</span></span> <span data-ttu-id="0b02d-362">Il descrittore di token di sicurezza (<xref:System.IdentityModel.Tokens.SecurityTokenDescriptor>) contiene informazioni sulla richiesta in un formato che può essere utilizzato da un gestore dei token.</span><span class="sxs-lookup"><span data-stu-id="0b02d-362">The security token descriptor (<xref:System.IdentityModel.Tokens.SecurityTokenDescriptor>) contains information about the request in a form that can be used by a token handler.</span></span> <span data-ttu-id="0b02d-363">Il <xref:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor%2A?displayProperty=nameWithType> proprietà è impostata per il descrittore restituito dalla chiamata.</span><span class="sxs-lookup"><span data-stu-id="0b02d-363">The <xref:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor%2A?displayProperty=nameWithType> property is set to the descriptor returned by the call.</span></span> <span data-ttu-id="0b02d-364">Se `null` restituito o se il <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.SigningCredentials%2A> è di proprietà del descrittore `null`, un <xref:System.InvalidOperationException> viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-364">If `null` is returned or if the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.SigningCredentials%2A> property of the descriptor is `null`, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="0b02d-365">L'eccezione viene generata anche se il <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A?displayProperty=nameWithType> proprietà `true` ma la <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.EncryptingCredentials%2A> proprietà sul descrittore restituito è `null`.</span><span class="sxs-lookup"><span data-stu-id="0b02d-365">The exception is also thrown if the <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A?displayProperty=nameWithType> property is `true` but the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.EncryptingCredentials%2A> property on the returned descriptor is `null`.</span></span>  
  
4.  <span data-ttu-id="0b02d-366">Il <xref:System.IdentityModel.SecurityTokenService.GetSecurityTokenHandler%2A> metodo per ottenere il gestore dei token appropriato in base al tipo di token richiesto.</span><span class="sxs-lookup"><span data-stu-id="0b02d-366">The <xref:System.IdentityModel.SecurityTokenService.GetSecurityTokenHandler%2A> method to get the appropriate token handler based on the kind of token requested.</span></span> <span data-ttu-id="0b02d-367">Se `null` viene restituito un <xref:System.NotImplementedException> viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="0b02d-367">If `null` is returned, a <xref:System.NotImplementedException> is thrown.</span></span>  
  
5.  <span data-ttu-id="0b02d-368">Il <xref:System.IdentityModel.SecurityTokenService.GetIssuerName%2A> metodo per ottenere il nome dell'autorità di certificazione per il token.</span><span class="sxs-lookup"><span data-stu-id="0b02d-368">The <xref:System.IdentityModel.SecurityTokenService.GetIssuerName%2A> method to get the issuer name for the token.</span></span> <span data-ttu-id="0b02d-369">Genera un <xref:System.InvalidOperationException> se il nome è `null` o vuoto; in caso contrario imposta il <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.TokenIssuerName%2A> il descrittore di proprietà.</span><span class="sxs-lookup"><span data-stu-id="0b02d-369">Throws an <xref:System.InvalidOperationException> if the name is `null` or empty; otherwise sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.TokenIssuerName%2A> property on the descriptor.</span></span>  
  
6.  <span data-ttu-id="0b02d-370">Il <xref:System.IdentityModel.SecurityTokenService.GetTokenLifetime%2A> metodo per ottenere la durata per il token e il set di <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Lifetime%2A> il descrittore di proprietà.</span><span class="sxs-lookup"><span data-stu-id="0b02d-370">The <xref:System.IdentityModel.SecurityTokenService.GetTokenLifetime%2A> method to get the lifetime for the token and sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Lifetime%2A> property on the descriptor.</span></span>  
  
7.  <span data-ttu-id="0b02d-371">Il <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> metodo per ottenere il token di prova da includere nel token emesso e set di <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Proof%2A> il descrittore di proprietà.</span><span class="sxs-lookup"><span data-stu-id="0b02d-371">The <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> method to get the proof token to include in the issued token and sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Proof%2A> property on the descriptor.</span></span>  
  
8.  <span data-ttu-id="0b02d-372">Il <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> metodo per ottenere le attestazioni da includere nel token emesso e set di <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Subject%2A> il descrittore di proprietà.</span><span class="sxs-lookup"><span data-stu-id="0b02d-372">The <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method to get the claims to include in the issued token and sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Subject%2A> property on the descriptor.</span></span> <span data-ttu-id="0b02d-373">È necessario eseguire l'override di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-373">You must override this method.</span></span>  
  
9. <span data-ttu-id="0b02d-374">Il <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> metodo per creare una risposta (RSTR) che contiene il token emesso.</span><span class="sxs-lookup"><span data-stu-id="0b02d-374">The <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> method to create a response (RSTR) that contains the issued token.</span></span>  
  
 <span data-ttu-id="0b02d-375">È possibile eseguire l'override di <xref:System.IdentityModel.SecurityTokenService.Issue%2A> metodo per implementare una pipeline di rilascio di token personalizzato; tuttavia non si tratta in genere necessario negli ambienti di sviluppo e test per le implementazioni più personalizzate del <xref:System.IdentityModel.SecurityTokenService> classe servono.</span><span class="sxs-lookup"><span data-stu-id="0b02d-375">You can override the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method to implement a custom token issuance pipeline; however this is typically not necessary in the development and test environments for which most custom implementations of the <xref:System.IdentityModel.SecurityTokenService> class are intended.</span></span> <span data-ttu-id="0b02d-376">In molti di questi casi si esegue l'override di <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> e <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> metodi e, facoltativamente, eseguire l'override di <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> metodo per fornire un servizio token di sicurezza utilizzabile dai servizi per l'ambiente.</span><span class="sxs-lookup"><span data-stu-id="0b02d-376">In many of these cases you override the <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> and <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> methods and optionally override the <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method  to provide a serviceable STS for your environment.</span></span> <span data-ttu-id="0b02d-377">Se è necessaria un'ulteriore personalizzazione può essere offrono spesso eseguendo l'override di metodi che implementano ogni fase del valore predefinito della pipeline di rilascio dei token elencata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="0b02d-377">If further customization is necessary you can often provide it by overriding the methods that implement each stage of the default token issuance pipeline listed above.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Principal">
      <MemberSignature Language="C#" Value="public System.Security.Claims.ClaimsPrincipal Principal { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Security.Claims.ClaimsPrincipal Principal" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.Principal" />
      <MemberSignature Language="VB.NET" Value="Public Property Principal As ClaimsPrincipal" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Security::Claims::ClaimsPrincipal ^ Principal { System::Security::Claims::ClaimsPrincipal ^ get(); void set(System::Security::Claims::ClaimsPrincipal ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Claims.ClaimsPrincipal</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0b02d-378">Ottiene o imposta l'oggetto principale associato all'istanza corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-378">Gets or sets the principal associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0b02d-379">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'entità corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-379">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the current principal.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Renew">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Renew (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Renew(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Renew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Renew (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Renew(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-380">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-380">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-381">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-381">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-382">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-382">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-383">Una volta eseguito l'override in una classe derivata, elabora una richiesta di rinnovamento WS-Trust.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-383">When overridden in a derived class, processes a WS-Trust Renew request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-384">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-384">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-385">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-385">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Request">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Protocols.WSTrust.RequestSecurityToken Request { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken Request" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.Request" />
      <MemberSignature Language="VB.NET" Value="Public Property Request As RequestSecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ Request { System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ get(); void set(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityToken</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0b02d-386">Ottiene o imposta la richiesta del token di sicurezza associato all'istanza corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-386">Gets or sets the security token request (RST) associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0b02d-387">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che contiene la richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-387">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that contains the request.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Scope">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Scope Scope { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Scope Scope" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.Scope" />
      <MemberSignature Language="VB.NET" Value="Public Property Scope As Scope" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Scope ^ Scope { System::IdentityModel::Scope ^ get(); void set(System::IdentityModel::Scope ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Scope</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0b02d-388">Ottiene o imposta l'ambito associato all'istanza corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-388">Gets or sets the scope associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0b02d-389">
            <see cref="T:System.IdentityModel.Scope" /> che rappresenta la configurazione per la richiesta di emissione del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-389">A <see cref="T:System.IdentityModel.Scope" /> that represents the configuration for the token issuance request.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenDescriptor">
      <MemberSignature Language="C#" Value="protected System.IdentityModel.Tokens.SecurityTokenDescriptor SecurityTokenDescriptor { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Tokens.SecurityTokenDescriptor SecurityTokenDescriptor" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />
      <MemberSignature Language="VB.NET" Value="Protected Property SecurityTokenDescriptor As SecurityTokenDescriptor" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::IdentityModel::Tokens::SecurityTokenDescriptor ^ SecurityTokenDescriptor { System::IdentityModel::Tokens::SecurityTokenDescriptor ^ get(); void set(System::IdentityModel::Tokens::SecurityTokenDescriptor ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityTokenDescriptor</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0b02d-390">Ottiene o imposta <see cref="T:System.IdentityModel.Tokens.SecurityTokenDescriptor" /> associati all'istanza corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-390">Gets or sets the <see cref="T:System.IdentityModel.Tokens.SecurityTokenDescriptor" /> associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0b02d-391">Il descrittore del token di sicurezza associato all'istanza corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-391">The security token descriptor that is associated with the current instance.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="0b02d-392">Tentativo di impostare la proprietà su <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-392">An attempt to set the property to <see langword="null" /> occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenServiceConfiguration">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Configuration.SecurityTokenServiceConfiguration SecurityTokenServiceConfiguration { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Configuration.SecurityTokenServiceConfiguration SecurityTokenServiceConfiguration" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property SecurityTokenServiceConfiguration As SecurityTokenServiceConfiguration" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Configuration::SecurityTokenServiceConfiguration ^ SecurityTokenServiceConfiguration { System::IdentityModel::Configuration::SecurityTokenServiceConfiguration ^ get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Configuration.SecurityTokenServiceConfiguration</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="0b02d-393">Ottiene l'istanza di configurazione del proprietario.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-393">Gets the owner configuration instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="0b02d-394">Oggetto <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" /> contenente la configurazione per l'istanza corrente.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-394">A <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" /> that contains the configuration for the current instance.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Validate">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Validate (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Validate(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Validate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Validate (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Validate(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="0b02d-395">Oggetto <see cref="T:System.Security.Claims.ClaimsPrincipal" /> che rappresenta l'identità del richiedente del token.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-395">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="0b02d-396">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta del token di sicurezza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-396">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="0b02d-397">Sono inclusi il messaggio di richiesta nonché altre informazioni correlate client come il contesto di autorizzazione.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-397">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-398">Una volta eseguito l'override in una classe derivata, elabora una richiesta di convalida WS-Trust.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-398">When overridden in a derived class, processes a WS-Trust Validate request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="0b02d-399">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> che rappresenta RSTR da restituire al chiamante.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-399">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-400">L'implementazione predefinita di questo metodo genera un <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="0b02d-400">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidateRequest">
      <MemberSignature Language="C#" Value="protected virtual void ValidateRequest (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ValidateRequest(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.ValidateRequest(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub ValidateRequest (request As RequestSecurityToken)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void ValidateRequest(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="0b02d-401">Oggetto <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> che rappresenta la richiesta.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-401">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the request.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="0b02d-402">Convalida la richiesta del token di sicurezza (RST) incapsulata da questa istanza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-402">Validates the security token request (RST) encapsulated by this instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="0b02d-403">Il <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> metodo viene chiamato dalla pipeline di rilascio dei token (il <xref:System.IdentityModel.SecurityTokenService.Issue%2A> (metodo)) per convalidare la RST in arrivo.</span><span class="sxs-lookup"><span data-stu-id="0b02d-403">The <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method is called from the token issuance pipeline (the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method) to validate the incoming RST.</span></span> <span data-ttu-id="0b02d-404">L'elemento RST viene convalidata sulla base dei requisiti (criteri) del servizio STS e viene generata un'eccezione appropriata, se non è valido.</span><span class="sxs-lookup"><span data-stu-id="0b02d-404">The RST is validated against the requirements (policy) of the STS and an appropriate exception is thrown if it is not valid.</span></span>  
  
 <span data-ttu-id="0b02d-405">L'implementazione predefinita del <xref:System.IdentityModel.SecurityTokenService> classe supporta solo il criterio RST RSTR e solo l'associazione del problema della specifica WS-Trust (il <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType%2A> proprietà della richiesta deve essere impostata su <xref:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="0b02d-405">The default implementation of the <xref:System.IdentityModel.SecurityTokenService> class supports only the RST-RSTR pattern and only the Issue binding of the WS-Trust specification (the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType%2A> property of the request must be set to <xref:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue?displayProperty=nameWithType>).</span></span> <span data-ttu-id="0b02d-406">L'implementazione predefinita di questo metodo applica questi requisiti e gli altri indicato nella sezione eccezioni.</span><span class="sxs-lookup"><span data-stu-id="0b02d-406">The default implementation of this method enforces these requirements (and others noted in the exceptions section).</span></span> <span data-ttu-id="0b02d-407">È possibile eseguire l'override di questo metodo se è necessario applicare i requisiti di convalida a altra per il servizio token di sicurezza personalizzato.</span><span class="sxs-lookup"><span data-stu-id="0b02d-407">You can override this method if you must enforce different validation requirements for your custom STS.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IdentityModel.Protocols.WSTrust.InvalidRequestException">
          <span data-ttu-id="0b02d-408">
            <paramref name="request" /> è <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-408">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="0b02d-409">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-409">-or-</span>
          </span>
          <span data-ttu-id="0b02d-410">La proprietà <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType" /> della richiesta non è impostata su <see cref="F:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-410">The <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType" /> property of the request is not set to <see cref="F:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue" />.</span>
          </span>
          <span data-ttu-id="0b02d-411">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-411">-or-</span>
          </span>
          <span data-ttu-id="0b02d-412">La proprietà <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> della richiesta non è <see langword="null" /> né una delle costanti definite nella classe <see cref="T:System.IdentityModel.Protocols.WSTrust.KeyTypes" /> .</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-412">The <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> property of the request is not <see langword="null" /> or one of the constants defined in the <see cref="T:System.IdentityModel.Protocols.WSTrust.KeyTypes" /> class.</span>
          </span>
          <span data-ttu-id="0b02d-413">oppure</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-413">-or-</span>
          </span>
          <span data-ttu-id="0b02d-414">La <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> della richiesta è <see cref="F:System.IdentityModel.Protocols.WSTrust.KeyTypes.Bearer" /> e l'elemento <see langword="KeySize" /> è presente, ma il valore non è uguale a zero.</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-414">The <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> of the request is <see cref="F:System.IdentityModel.Protocols.WSTrust.KeyTypes.Bearer" /> and the <see langword="KeySize" /> element is present, but its value is not equal to zero.</span>
          </span>
        </exception>
        <exception cref="T:System.IdentityModel.UnsupportedTokenTypeBadRequestException">
          <span data-ttu-id="0b02d-415">Il servizio token di sicurezza non supporta il tipo di token della richiesta (in base al valore della proprietà <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.TokenType" /> della richiesta).</span>
          <span class="sxs-lookup">
            <span data-stu-id="0b02d-415">The STS does not support the request token type (based on the value of the <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.TokenType" /> property of the request).</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
  </Members>
</Type>