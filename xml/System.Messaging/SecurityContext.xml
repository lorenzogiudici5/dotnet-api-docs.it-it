<Type Name="SecurityContext" FullName="System.Messaging.SecurityContext">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="8603ce5f07fd6e5af55344297829a0937d45e5a9" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="it-IT" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class SecurityContext : IDisposable" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SecurityContext extends System.Object implements class System.IDisposable" />
  <TypeSignature Language="DocId" Value="T:System.Messaging.SecurityContext" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SecurityContext&#xA;Implements IDisposable" />
  <TypeSignature Language="C++ CLI" Value="public ref class SecurityContext sealed : IDisposable" />
  <AssemblyInfo>
    <AssemblyName>System.Messaging</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.IDisposable</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary>
      <span data-ttu-id="84b60-101">Rappresenta il contesto di sicurezza di un messaggio della coda.</span>
      <span class="sxs-lookup">
        <span data-stu-id="84b60-101">Represents the security context for a message in a queue.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="84b60-102">Il contesto di sicurezza contiene informazioni di sicurezza memorizzato nella cache, ad esempio un certificato interno, la chiave privata corrispondente, il SID dell'utente, necessaria per allegare un certificato e l'identificatore del mittente per un messaggio alla richiesta di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="84b60-102">The security context contains cached security information such as an internal certificate, the corresponding private key, the user's SID, needed to attach a certificate and the sender identifier to a message when requesting authentication.</span></span>  
  
 <span data-ttu-id="84b60-103">Se un client, ad esempio un'applicazione ASP.NET, rappresenta un utente per inviare un messaggio a una coda, viene utilizzata l'identità dell'utente per accedere alla coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-103">If a client, such as an ASP.NET application, impersonates a user to send a message to a queue, the identity of the user is used to access the queue.</span></span> <span data-ttu-id="84b60-104">Se la coda è remota, queste credenziali vengono memorizzati nella cache e usate per i messaggi che vengono successivamente inviati alla coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-104">If the queue is remote, these credentials are cached and used for messages that are subsequently sent to the queue.</span></span> <span data-ttu-id="84b60-105">Pertanto, il SID nei messaggi successivi sarà l'identità memorizzata nella cache del primo utente che ha inviato un messaggio alla coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-105">Therefore, the SID in subsequent messages will be the cached identity of the first user that sent a message to the queue.</span></span> <span data-ttu-id="84b60-106">Per gli utenti successivi verrà utilizzata l'identità memorizzata nella cache del primo utente che ha inviato un messaggio alla coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-106">The cached identity of the first user that sent a message to the queue will be used for subsequent users.</span></span>  
  
 <span data-ttu-id="84b60-107">Per risolvere questo problema, impostare il contesto di sicurezza utilizzando <xref:System.Messaging.Message.SecurityContext%2A> prima di inviare un messaggio a una coda remota per garantire che le credenziali dell'utente corrente vengono utilizzate per accedere alla coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-107">To overcome this problem, set the security context using <xref:System.Messaging.Message.SecurityContext%2A> before sending a message to a remote queue to ensure that the current user's credentials are used to gain access to the queue.</span></span> <span data-ttu-id="84b60-108">Tuttavia, la procedura migliore consiste nella:</span><span class="sxs-lookup"><span data-stu-id="84b60-108">However, the suggested best practice is to:</span></span>  
  
1.  <span data-ttu-id="84b60-109">Creare una coda autenticata.</span><span class="sxs-lookup"><span data-stu-id="84b60-109">Make the queue an authenticated queue.</span></span>  
  
2.  <span data-ttu-id="84b60-110">Eseguire l'applicazione ASP.NET come un'identità di dominio e autorizzare l'applicazione per scrivere nella coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-110">Run the ASP.NET application as a domain identity and authorize that application to write to the queue.</span></span>  
  
3.  <span data-ttu-id="84b60-111">Non rappresentare l'utente quando si utilizza la coda.</span><span class="sxs-lookup"><span data-stu-id="84b60-111">Do not impersonate the user when using the queue.</span></span> <span data-ttu-id="84b60-112">In alternativa, ottenere l'identità del chiamante e l'autorizzazione di controllo nell'applicazione ASP.NET o includere l'identità del chiamante come parte del messaggio e quindi eseguire l'autorizzazione di controllo nell'applicazione ricevente.</span><span class="sxs-lookup"><span data-stu-id="84b60-112">Instead, get the caller’s identity and either perform authorization checking in the ASP.NET application or include the caller’s identity as part of the message and perform authorization checking in the receiver application.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="Dispose">
      <MemberSignature Language="C#" Value="public void Dispose ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Dispose() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Messaging.SecurityContext.Dispose" />
      <MemberSignature Language="VB.NET" Value="Public Sub Dispose ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Dispose();" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.IDisposable.Dispose</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Messaging</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="84b60-113">Rilascia tutte le risorse usate da <see cref="T:System.Messaging.SecurityContext" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="84b60-113">Releases all resources used by the <see cref="T:System.Messaging.SecurityContext" />.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>