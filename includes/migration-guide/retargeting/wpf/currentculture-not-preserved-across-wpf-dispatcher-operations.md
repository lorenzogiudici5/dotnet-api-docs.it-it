### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a>CurrentCulture non verrà preservato in tutte le operazioni del Dispatcher di WPF

|   |   |
|---|---|
|Dettagli|A partire da .NET Framework 4.6, diventa <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> o <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> effettuata all'interno di un <xref:System.Windows.Threading.Dispatcher?displayProperty=name> andranno perse al termine dell'operazione del dispatcher. In modo analogo, diventa <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> o <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> effettuate all'esterno di un Dispatcher operazione potrebbe non venire trasmesse quando viene eseguita l'operazione. In pratica, ciò significa che <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> e <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> modifiche potrebbero non avvenire tra i callback di WPF UI e altro codice in un'applicazione WPF. Ciò è dovuto a una modifica nello <xref:System.Threading.ExecutionContext?displayProperty=name> che causa <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> e <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> da archiviare all'inizio di contesto di esecuzione con App destinate a .NET Framework 4.6. Le operazioni del dispatcher WPF archiviano il contesto di esecuzione usato per avviare l'operazione e ripristinano il contesto precedente dopo il completamento dell'operazione. Dato che <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> e <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> fanno ora parte di tale contesto, le modifiche di questi elementi all'interno di un'operazione di Dispatcher non vengono mantenute all'esterno dell'operazione.|
|Suggerimento|Questa modifica interessate le app potrebbero funzionare mandare archiviando desiderato <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> o <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in un campo e archiviare tutti i corpi di operazione Dispatcher (inclusi i gestori di callback di evento dell'interfaccia utente) che corrette <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> e <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> sono impostati. In alternativa, perché il ExecutionContext modificare sottostante questa modifica WPF influisce solo sulle App destinate a .NET Framework 4.6 o versione successiva, è possibile evitare l'interruzione specificando come destinazione il 4.5.2.Apps di .NET Framework che destinate a .NET Framework 4.6 o versione successiva può inoltre funzionare alternative impostando la compatibilità seguente opzione:<pre><code>AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Questo problema è stato risolto in WPF in .NET Framework 4.6.2. È stato risolto anche in .NET Framework 4.6, 4.6.1 attraverso [3139549 KB](https://support.microsoft.com/kb/3139549). Applicazioni destinate a .NET 4.6 o versione successiva verranno automaticamente visualizzato il comportamento corretto nelle applicazioni WPF - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) potrebbe essere preservato in tutte le operazioni del Dispatcher.|
|Ambito|Secondario|
|Versione|4.6|
|Tipo|Ridestinazione|

