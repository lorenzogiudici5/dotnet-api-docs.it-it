### <a name="sslstream-supports-tls-alerts"></a>SslStream supporta TLS avvisi

|   |   |
|---|---|
|Dettagli|Dopo un handshake TLS non riuscito, una <xref:System.IO.IOException?displayProperty=name> con un'eccezione <xref:System.ComponentModel.Win32Exception?displayProperty=name> eccezione verrà generata dalla prima operazione dei / o lettura/scrittura. Il <xref:System.ComponentModel.Win32Exception.NativeErrorCode?displayProperty=name> codice per il <xref:System.ComponentModel.Win32Exception?displayProperty=name> può essere eseguito con l'avviso TLS dall'entità remote utilizzando questa [Schannel documentazione](https://msdn.microsoft.com/library/windows/desktop/dd721886%28v=vs.85%29.aspx). Per altre informazioni, vedere [RFC 2246: gli avvisi di errore sezione 7.2.2](https://tools.ietf.org/html/rfc2246#section-7.2.2)il comportamento in seguito .NET 4.6.2 è che il canale di trasporto (in genere connessione TCP) verrà timeout durante la scrittura o lettura se non è riuscita a altra parte i handshake e immediatamente in un secondo momento ha rifiutato la connessione.|
|Suggerimento|Le applicazioni che chiamano di rete, ad esempio I/O APIs <xref:System.IO.Stream.Read(System.Byte[],System.Int32,System.Int32)> / <xref:System.IO.Stream.Write(System.Byte[],System.Int32,System.Int32)> deve gestire <xref:System.IO.IOException> o <xref:System.TimeoutException?displayProperty=name>. La funzionalità relativa agli avvisi TLS è abilitata per impostazione predefinita a partire da .NET 4.7. Applicazioni destinate a .NET 4.0 - .NET 4.6.2 in esecuzione in un sistema superiore o 4.7 .NET avrà la funzionalità disabilitata per mantenere la compatibilità. L'API di configurazione seguente è disponibile per abilitare o disabilitare la funzionalità per .NET 4.6 e versioni successive di applicazioni in esecuzione su .NET 4.7 o framework superiore.<ul><li>A livello di codice:</li></ul>Deve essere la prima cosa che l'applicazione effettua poiché ServicePointManager verrà inizializzato una sola volta:<pre><code class="language-C#">AppContext.SetSwitch(&quot;TestSwitch.LocalAppContext.DisableCaching&quot;, true);&#13;&#10;AppContext.SetSwitch(&quot;Switch.System.Net.DontEnableTlsAlerts&quot;, true); // Set to &#39;false&#39; to enable the feature in .NET 4.6 - 4.6.2.&#13;&#10;</code></pre><ul><li>AppConfig:</li></ul><pre><code class="language-XML">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Net.DontEnableTlsAlerts=true&quot;/&gt;&#13;&#10;&lt;!-- Set to &#39;false&#39; to enable the feature in .NET 4.6 - 4.6.2. --&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><ul><li>Chiave del Registro di sistema (computer globali):</li></ul>Impostare il valore su 'false' per abilitare la funzionalità di .NET 4.6 - 4.6.2.<pre><code>Key = HKLM\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\AppContext\Switch.System.Net.DontEnableTlsAlerts&#13;&#10;Type = String&#13;&#10;Value = &quot;true&quot;&#13;&#10;</code></pre>|
|Ambito|Microsoft Edge|
|Versione|4.7|
|Tipo|Ridestinazione|
|API interessate|<ul><li><xref:System.Net.Security.SslStream?displayProperty=nameWithType></li><li><xref:System.Net.WebRequest?displayProperty=nameWithType></li><li><xref:System.Net.HttpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.FtpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.Mail.SmtpClient?displayProperty=nameWithType></li><li><xref:System.Net.Http?displayProperty=nameWithType></li></ul>|

